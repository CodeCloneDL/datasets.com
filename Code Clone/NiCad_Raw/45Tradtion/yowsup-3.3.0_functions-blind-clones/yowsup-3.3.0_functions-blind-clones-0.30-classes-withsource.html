<html>
<head>
    <title>NiCad6 Clone Report</title>
    <style type="text/css">
        body {font-family:sans-serif;}
        table {background-color:white; border:0px; padding:0px; border-spacing:4px; width:auto; margin-left:30px; margin-right:auto;}
        td {background-color:rgba(192,212,238,0.8); border:0px; padding:8px; width:auto; vertical-align:top; border-radius:8px}
        pre {background-color:white; padding:4px;}
        a {color:darkblue;}
    </style>
</head>
<body>
<h2>NiCad6 Clone Report</h2>
<table>
<tr style="font-size:14pt">
<td><b>System:</b> &nbsp; yowsup-3.3.0</td>
<td><b>Clone pairs:</b> &nbsp; 43</td>
<td><b>Clone classes:</b> &nbsp; 15</td>
</tr>
<tr style="font-size:12pt">
<td style="background-color:white">Clone type: &nbsp; 3-2</td>
<td style="background-color:white">Granularity: &nbsp; functions-blind</td>
<td style="background-color:white">Max diff threshold: &nbsp; 30%</td>
<td style="background-color:white">Clone size: &nbsp; 10 - 2500 lines</td>
<td style="background-color:white">Total functions-blind: &nbsp; 1783</td>
</tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 1:</b> &nbsp; 2 fragments, nominal size 14 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag73')" href="javascript:;">
yowsup-3.3.0/yowsup/axolotl/manager.py: 165-180
</a>
<div class="mid" id="frag73" style="display:none"><pre>
    def decrypt_pkmsg(self, senderid, data, unpad):
        logger.debug("decrypt_pkmsg(senderid=%s, data=(omitted), unpad=%s)" % (senderid, unpad))
        pkmsg = PreKeyWhisperMessage(serialized=data)
        try:
            plaintext = self._get_session_cipher(senderid).decryptPkmsg(pkmsg)
            return self._unpad(plaintext) if unpad else plaintext
        except NoSessionException:
            raise exceptions.NoSessionException()
        except InvalidKeyIdException:
            raise exceptions.InvalidKeyIdException()
        except InvalidMessageException:
            raise exceptions.InvalidMessageException()
        except DuplicateMessageException:
            raise exceptions.DuplicateMessageException()


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag74')" href="javascript:;">
yowsup-3.3.0/yowsup/axolotl/manager.py: 181-196
</a>
<div class="mid" id="frag74" style="display:none"><pre>
    def decrypt_msg(self, senderid, data, unpad):
        logger.debug("decrypt_msg(senderid=%s, data=[omitted], unpad=%s)" % (senderid, unpad))
        msg = WhisperMessage(serialized=data)
        try:
            plaintext = self._get_session_cipher(senderid).decryptMsg(msg)

            return self._unpad(plaintext) if unpad else plaintext
        except NoSessionException:
            raise exceptions.NoSessionException()
        except InvalidKeyIdException:
            raise exceptions.InvalidKeyIdException()
        except InvalidMessageException:
            raise exceptions.InvalidMessageException()
        except DuplicateMessageException:
            raise exceptions.DuplicateMessageException()

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 2:</b> &nbsp; 2 fragments, nominal size 13 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag188')" href="javascript:;">
yowsup-3.3.0/yowsup/demos/cli/layer.py: 185-202
</a>
<div class="mid" id="frag188" style="display:none"><pre>
    def profile_setPicture(self, path):
        if self.assertConnected():
            with PILOptionalModule(failMessage = "No PIL library installed, try install pillow") as imp:
                Image = imp("Image")
                def onSuccess(resultIqEntity, originalIqEntity):
                    self.output("Profile picture updated successfully")

                def onError(errorIqEntity, originalIqEntity):
                    logger.error("Error updating profile picture")

                #example by @aesedepece in https://github.com/tgalal/yowsup/pull/781
                #modified to support python3
                src = Image.open(path)
                pictureData = src.resize((640, 640)).tobytes("jpeg", "RGB")
                picturePreview = src.resize((96, 96)).tobytes("jpeg", "RGB")
                iq = SetPictureIqProtocolEntity(self.getOwnJid(), picturePreview, pictureData)
                self._sendIq(iq, onSuccess, onError)

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag205')" href="javascript:;">
yowsup-3.3.0/yowsup/demos/cli/layer.py: 288-307
</a>
<div class="mid" id="frag205" style="display:none"><pre>
    def group_picture(self, group_jid, path):
        if self.assertConnected():
            with PILOptionalModule(failMessage = self.__class__.FAIL_OPT_PILLOW) as imp:
                Image = imp("Image")

                def onSuccess(resultIqEntity, originalIqEntity):
                    self.output("Group picture updated successfully")

                def onError(errorIqEntity, originalIqEntity):
                    logger.error("Error updating Group picture")

                #example by @aesedepece in https://github.com/tgalal/yowsup/pull/781
                #modified to support python3
                src = Image.open(path)
                pictureData = src.resize((640, 640)).tobytes("jpeg", "RGB")
                picturePreview = src.resize((96, 96)).tobytes("jpeg", "RGB")
                iq = SetPictureIqProtocolEntity(self.aliasToJid(group_jid), picturePreview, pictureData)
                self._sendIq(iq, onSuccess, onError)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 3:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag281')" href="javascript:;">
yowsup-3.3.0/yowsup/demos/common/sink_worker.py: 57-69
</a>
<div class="mid" id="frag281" style="display:none"><pre>
            return None

        return enc_data

    def _decrypt(self, ciphertext, ref_key, media_info):
        length_kb = int(math.ceil(len(ciphertext) / 1024))
        progress = self._create_progress_iterator(range(length_kb), length_kb, "Decrypt        ")
        try:
            plaintext = self._media_cipher.decrypt(ciphertext, ref_key, media_info)
            progress.update(length_kb)
            return plaintext
        except Exception as e:
            progress.set_description("Decrypt Error  ")
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag282')" href="javascript:;">
yowsup-3.3.0/yowsup/demos/common/sink_worker.py: 70-83
</a>
<div class="mid" id="frag282" style="display:none"><pre>
            logger.error(e)

        return None

    def _write(self, data, filename):
        length_kb = int(math.ceil(len(data) / 1024))
        progress = self._create_progress_iterator(range(length_kb), length_kb, "Write          ")
        try:
            with open(filename, 'wb') as f:
                f.write(data)
            progress.update(length_kb)
            return filename
        except Exception as e:
            progress.set_description("Write error    ")
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 4:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag477')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/layer.py: 129-138
</a>
<div class="mid" id="frag477" style="display:none"><pre>
    def recvNotification(self, node):
        if node["type"] == "w:gp2":
            if node.getChild("subject"):
                self.toUpper(SubjectGroupsNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("create"):
                self.toUpper(CreateGroupsNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("remove"):
                self.toUpper(RemoveGroupsNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("add"):
                self.toUpper(AddGroupsNotificationProtocolEntity.fromProtocolTreeNode(node))
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1119')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_contacts/layer.py: 19-32
</a>
<div class="mid" id="frag1119" style="display:none"><pre>
    def recvNotification(self, node):
        if node["type"] == "contacts":
            if node.getChild("remove"):
                self.toUpper(RemoveContactNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("add"):
                self.toUpper(AddContactNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("update"):
                self.toUpper(UpdateContactNotificationProtocolEntity.fromProtocolTreeNode(node))
            elif node.getChild("sync"):
                self.toUpper(ContactsSyncNotificationProtocolEntity.fromProtocolTreeNode(node))
            else:
                logger.warning("Unsupported notification type: %s " % node["type"])
                logger.debug("Unsupported notification node: %s" % node)

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 5:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag520')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/iq_result_groups_info.py: 24-37
</a>
<div class="mid" id="frag520" style="display:none"><pre>
    def setGroupProps(self, groupId, creationTimestamp, creatorJid,
                      subject, subjectTime, subjectOwnerJid,
                      participants):

        assert type(participants) is dict, "Participants must be a dict {jid =&gt; type?}"

        self.groupId = groupId
        self.creationTimestamp = int(creationTimestamp)
        self.creatorJid = creatorJid
        self.subject = subject
        self.subjectTime = int(subjectTime)
        self.subjectOwnerJid = subjectOwnerJid
        self.participants = participants

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag590')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/notification_groups_create.py: 31-46
</a>
<div class="mid" id="frag590" style="display:none"><pre>
    def setGroupProps(self, createType, key, groupId, creationTimestamp, creatorJid,
                      subject, subjectTime, subjectOwnerJid,
                      participants):

        assert type(participants) is dict, "Participants must be a dict {jid =&gt; type?}"

        self.createType = createType
        self.groupId = groupId
        self.creationTimestamp = int(creationTimestamp)
        self.creatorJid = creatorJid
        self.subject = subject
        self.subjectTime = int(subjectTime)
        self.subjectOwnerJid = subjectOwnerJid
        self.participants = participants
        self._key = key

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 6:</b> &nbsp; 3 fragments, nominal size 19 lines, similarity 72%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag530')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/iq_result_groups_info.py: 77-99
</a>
<div class="mid" id="frag530" style="display:none"><pre>
    def toProtocolTreeNode(self):
        node = super(InfoGroupsResultIqProtocolEntity, self).toProtocolTreeNode()
        groupNode = ProtocolTreeNode("group", {
            "subject": self.getSubject(),
            "creation": str(self.getCreationTimestamp()),
            "creator": self.getCreatorJid(),
            "s_t": self.getSubjectTimestamp(),
            "s_o": self.getSubjectOwnerJid(),
            "id": self.getGroupId()
        })

        participants = []
        for jid, _type in self.getParticipants().items():
            pnode = ProtocolTreeNode("participant", {"jid": jid})
            if _type:
                pnode["type"] = _type
            participants.append(pnode)

        groupNode.addChildren(participants)
        node.addChild(groupNode)

        return node

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag543')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/iq_result_groups_list.py: 42-67
</a>
<div class="mid" id="frag543" style="display:none"><pre>

    def toProtocolTreeNode(self):
        node = super(ListGroupsResultIqProtocolEntity, self).toProtocolTreeNode()

        groupsNodes = []
        for group in self.groupsList:
            groupNode = ProtocolTreeNode("group", {
                "id":       group.getId(),
                "creator":    group.getCreator(),
                "subject":  group.getSubject(),
                "s_o":      group.getSubjectOwner(),
                "s_t":      str(group.getSubjectTime()),
                "creation": str(group.getCreationTime())
                },
            )
            participants = []
            for jid, _type in group.getParticipants().items():
                pnode = ProtocolTreeNode("participant", {"jid": jid})
                if _type:
                    pnode["type"] = _type
                participants.append(pnode)
            groupNode.addChildren(participants)
            groupsNodes.append(groupNode)

        node.addChild(ProtocolTreeNode("groups", children = groupsNodes))
        return node
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag603')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/notification_groups_create.py: 99-123
</a>
<div class="mid" id="frag603" style="display:none"><pre>
    def toProtocolTreeNode(self):
        node = super(CreateGroupsNotificationProtocolEntity, self).toProtocolTreeNode()
        createNode = ProtocolTreeNode("create", {"type": self.getCreatetype(), "key": self.key})
        groupNode = ProtocolTreeNode("group", {
            "subject": self.getSubject(),
            "creation": str(self.getCreationTimestamp()),
            "creator": self.getCreatorJid(),
            "s_t": self.getSubjectTimestamp(),
            "s_o": self.getSubjectOwnerJid(),
            "id": self.getGroupId()
        })

        participants = []
        for jid, _type in self.getParticipants().items():
            pnode = ProtocolTreeNode("participant", {"jid": jid})
            if _type:
                pnode["type"] = _type
            participants.append(pnode)

        groupNode.addChildren(participants)
        createNode.addChild(groupNode)
        node.addChild(createNode)

        return node

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 7:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 90%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag537')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/notification_groups_add.py: 28-40
</a>
<div class="mid" id="frag537" style="display:none"><pre>
    def toProtocolTreeNode(self):
        node = super(AddGroupsNotificationProtocolEntity, self).toProtocolTreeNode()
        addNode = ProtocolTreeNode("add")
        participants = []
        for jid in self.getParticipants():
            pnode = ProtocolTreeNode("participant", {"jid": jid})
            participants.append(pnode)

        addNode.addChildren(participants)
        node.addChild(addNode)

        return node

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag572')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_groups/protocolentities/notification_groups_remove.py: 34-46
</a>
<div class="mid" id="frag572" style="display:none"><pre>
    def toProtocolTreeNode(self):
        node = super(RemoveGroupsNotificationProtocolEntity, self).toProtocolTreeNode()
        removeNode = ProtocolTreeNode("remove", {"subject": self.subject})
        participants = []
        for jid in self.getParticipants():
            pnode = ProtocolTreeNode("participant", {"jid": jid})
            participants.append(pnode)

        removeNode.addChildren(participants)
        node.addChild(removeNode)

        return node

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 8:</b> &nbsp; 4 fragments, nominal size 17 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag670')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_extendedtext.py: 7-26
</a>
<div class="mid" id="frag670" style="display:none"><pre>
    def setUp(self):
        super(ExtendedTextMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = ExtendedTextMediaMessageProtocolEntity

        m = Message()
        media_message = Message.ExtendedTextMessage()
        media_message.canonical_url = "url"
        media_message.text = "text"
        media_message.matched_text = "matched_text"
        media_message.description = "desc"
        media_message.title = "title"
        media_message.jpeg_thumbnail = b"thumb"
        m.extended_text_message.MergeFrom(media_message)

        proto_node = self.node.getChild("proto")
        proto_node["mediatype"] = "url"
        proto_node.setData(m.SerializeToString())

        self._entity = ExtendedTextMediaMessageProtocolEntity\
            .fromProtocolTreeNode(self.node)  # type: ExtendedTextMediaMessageProtocolEntity
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag752')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_downloadable_image.py: 7-23
</a>
<div class="mid" id="frag752" style="display:none"><pre>
class ImageDownloadableMediaMessageProtocolEntityTest(MediaMessageProtocolEntityTest):
    def setUp(self):
        super(ImageDownloadableMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = ImageDownloadableMediaMessageProtocolEntity
        proto_node = self.node.getChild("proto")
        m = Message()
        media_message = Message.ImageMessage()
        media_message.url = "url"
        media_message.mimetype = "image/jpeg"
        media_message.caption = "caption"
        media_message.file_sha256 = b"SHA256"
        media_message.file_length = 123
        media_message.height = 20
        media_message.width = 20
        media_message.media_key = b"MEDIA_KEY"
        media_message.jpeg_thumbnail = b"THUMBNAIL"
        m.image_message.MergeFrom(media_message)
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag735')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_downloadable_video.py: 7-27
</a>
<div class="mid" id="frag735" style="display:none"><pre>
class VideoDownloadableMediaMessageProtocolEntityTest(MediaMessageProtocolEntityTest):
    def setUp(self):
        super(VideoDownloadableMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = VideoDownloadableMediaMessageProtocolEntity
        proto_node = self.node.getChild("proto")
        m = Message()
        media_message = Message.VideoMessage()
        media_message.url = "url"
        media_message.mimetype = "video/mp4"
        media_message.caption = "caption"
        media_message.file_sha256 = b"shaval"
        media_message.file_length = 4
        media_message.width = 1
        media_message.height = 2
        media_message.seconds = 3
        media_message.media_key = b"MEDIA_KEY"
        media_message.jpeg_thumbnail = b"THUMBNAIL"
        media_message.gif_attribution = 0
        media_message.gif_playback = False
        media_message.streaming_sidecar = b''
        m.video_message.MergeFrom(media_message)
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag777')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_downloadable_audio.py: 7-21
</a>
<div class="mid" id="frag777" style="display:none"><pre>
    def setUp(self):
        super(AudioDownloadableMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = AudioDownloadableMediaMessageProtocolEntity
        proto_node = self.node.getChild("proto")
        m = Message()
        media_message = Message.AudioMessage()
        media_message.url = "url"
        media_message.mimetype = "audio/ogg"
        media_message.file_sha256 = b"SHA256"
        media_message.file_length = 123
        media_message.media_key = b"MEDIA_KEY"
        media_message.seconds = 24
        media_message.ptt = True
        m.audio_message.MergeFrom(media_message)
        proto_node.setData(m.SerializeToString())
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 9:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 84%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag728')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_location.py: 7-22
</a>
<div class="mid" id="frag728" style="display:none"><pre>
    def setUp(self):
        super(LocationMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = LocationMediaMessageProtocolEntity

        m = Message()
        location_message = Message.LocationMessage()
        location_message.degrees_latitude = 30.089037
        location_message.degrees_longitude = 31.319488
        location_message.name = "kaos"
        location_message.url = "kaos_url"

        m.location_message.MergeFrom(location_message)

        proto_node = self.node.getChild("proto")
        proto_node["mediatype"] = "location"
        proto_node.setData(m.SerializeToString())
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag736')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_media/protocolentities/test_message_media_contact.py: 7-17
</a>
<div class="mid" id="frag736" style="display:none"><pre>
    def setUp(self):
        super(ContactMediaMessageProtocolEntityTest, self).setUp()
        self.ProtocolEntity = ContactMediaMessageProtocolEntity
        m = Message()
        contact_message = Message.ContactMessage()
        contact_message.display_name = "abc"
        contact_message.vcard = b"VCARD_DATA"
        m.contact_message.MergeFrom(contact_message)
        proto_node = self.node.getChild("proto")
        proto_node["mediatype"] = "contact"
        proto_node.setData(m.SerializeToString())
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 10:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag910')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/axolotl/layer_receive.py: 99-112
</a>
<div class="mid" id="frag910" style="display:none"><pre>
    def handlePreKeyWhisperMessage(self, node):
        pkMessageProtocolEntity = EncryptedMessageProtocolEntity.fromProtocolTreeNode(node)
        enc = pkMessageProtocolEntity.getEnc(EncProtocolEntity.TYPE_PKMSG)
        plaintext = self.manager.decrypt_pkmsg(pkMessageProtocolEntity.getAuthor(False), enc.getData(),
                                               enc.getVersion() == 2)

        if enc.getVersion() == 2:
            self.parseAndHandleMessageProto(pkMessageProtocolEntity, plaintext)

        node = pkMessageProtocolEntity.toProtocolTreeNode()
        node.addChild((ProtoProtocolEntity(plaintext, enc.getMediaType())).toProtocolTreeNode())

        self.toUpper(node)

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag911')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/axolotl/layer_receive.py: 113-127
</a>
<div class="mid" id="frag911" style="display:none"><pre>
    def handleWhisperMessage(self, node):
        encMessageProtocolEntity = EncryptedMessageProtocolEntity.fromProtocolTreeNode(node)

        enc = encMessageProtocolEntity.getEnc(EncProtocolEntity.TYPE_MSG)
        plaintext = self.manager.decrypt_msg(encMessageProtocolEntity.getAuthor(False), enc.getData(),
                                             enc.getVersion() == 2)

        if enc.getVersion() == 2:
            self.parseAndHandleMessageProto(encMessageProtocolEntity, plaintext)

        node = encMessageProtocolEntity.toProtocolTreeNode()
        node.addChild((ProtoProtocolEntity(plaintext, enc.getMediaType())).toProtocolTreeNode())

        self.toUpper(node)

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 11:</b> &nbsp; 3 fragments, nominal size 10 lines, similarity 80%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1050')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_calls/protocolentities/test_call.py: 7-17
</a>
<div class="mid" id="frag1050" style="display:none"><pre>
    def setUp(self):
        self.ProtocolEntity = CallProtocolEntity
        children = [ProtocolTreeNode("offer", {"call-id": "call_id"})]
        attribs = {
            "t": "12345",
            "from": "from_jid",
            "offline": "0",
            "id": "message_id",
            "notify": "notify_name"
        }
        self.node = ProtocolTreeNode("call", attribs, children)
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1355')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/test_message.py: 7-19
</a>
<div class="mid" id="frag1355" style="display:none"><pre>
    def setUp(self):
        self.ProtocolEntity = MessageProtocolEntity
        # ORDER_MATTERS for node.toString() to output return attribs in same order
        attribs = {
            "type": "message_type",
            "id": "message-id",
            "t": "12345",
            "offline": "0",
            "from": "from_jid",
            "notify": "notify_name"
        }
        self.node = ProtocolTreeNode("message", attribs)

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1241')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_notifications/protocolentities/test_notification.py: 7-17
</a>
<div class="mid" id="frag1241" style="display:none"><pre>
    def setUp(self):
        self.ProtocolEntity = NotificationProtocolEntity
        attribs = {
            "t": "12345",
            "from": "from_jid",
            "offline": "0",
            "type": "notif_type",
            "id": "message-id",
            "notify": "notify_name"
        }
        self.node = ProtocolTreeNode("notification", attribs)
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 12:</b> &nbsp; 2 fragments, nominal size 11 lines, similarity 81%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1202')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_presence/protocolentities/presence.py: 49-60
</a>
<div class="mid" id="frag1202" style="display:none"><pre>
    def __str__(self):
        out  = "Presence:\n"
        if self._type:
            out += "Type: %s\n" % self._type
        if self.name:
            out += "Name: %s\n" % self.name
        if self._from:
            out += "From: %s\n" % self._from
        if self.last:
            out += "Last seen: %s\n" % self.last
        return out

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1314')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_iq/protocolentities/iq.py: 57-68
</a>
<div class="mid" id="frag1314" style="display:none"><pre>
    def __str__(self):
        out  = "Iq:\n"
        out += "ID: %s\n" % self._id
        out += "Type: %s\n" % self._type
        if self.xmlns:
            out += "xmlns: %s\n" % self.xmlns
        if self.to:
            out += "to: %s\n" % self.to
        elif self._from:
            out += "from: %s\n" % self._from
        return out

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 13:</b> &nbsp; 10 fragments, nominal size 15 lines, similarity 70%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1395')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_image.py: 14-27
</a>
<div class="mid" id="frag1395" style="display:none"><pre>

    def __str__(self):
        attrs = []
        if self.width is not None:
            attrs.append(("width", self.width))
        if self.height is not None:
            attrs.append(("height", self.height))
        if self.caption is not None:
            attrs.append(("caption", self.caption))
        if self.jpeg_thumbnail is not None:
            attrs.append(("jpeg_thumbnail", "[binary data]"))
        attrs.append(("downloadable", self.downloadablemedia_attributes))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1549')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_message_key.py: 8-20
</a>
<div class="mid" id="frag1549" style="display:none"><pre>
    def __str__(self):
        attrs = []
        if self.remote_jid is not None:
            attrs.append(("remote_jid", self.remote_jid))
        if self.from_me is not None:
            attrs.append(("from_me", self.from_me))
        if self.id is not None:
            attrs.append(("id", self.id))
        if self.participant is not None:
            attrs.append(("participant", self.participant))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1408')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_extendedtext.py: 14-32
</a>
<div class="mid" id="frag1408" style="display:none"><pre>
    def __str__(self):
        attrs = []
        if self.text is not None:
            attrs.append(("text", self.text))
        if self.matched_text is not None:
            attrs.append(("matched_text", self.matched_text))
        if self.canonical_url is not None:
            attrs.append(("canonical_url", self.canonical_url))
        if self.description is not None:
            attrs.append(("description", self.description))
        if self.title is not None:
            attrs.append(("title", self.title))
        if self.jpeg_thumbnail is not None:
            attrs.append(("jpeg_thumbnail", "[binary data]"))
        if self.context_info is not None:
            attrs.append(("context_info", self.context_info))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1462')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_document.py: 14-29
</a>
<div class="mid" id="frag1462" style="display:none"><pre>

    def __str__(self):
        attrs = []
        if self.file_name is not None:
            attrs.append(("file_name", self.file_name))
        if self.file_length is not None:
            attrs.append(("file_length", self.file_length))
        if self.title is not None:
            attrs.append(("title", self.title))
        if self.page_count is not None:
            attrs.append(("page_count", self.page_count))
        if self.jpeg_thumbnail is not None:
            attrs.append(("jpeg_thumbnail", self.jpeg_thumbnail))
        attrs.append(("downloadable", self.downloadablemedia_attributes))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1559')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_audio.py: 17-28
</a>
<div class="mid" id="frag1559" style="display:none"><pre>

    def __str__(self):
        attrs = []
        if self.seconds is not None:
            attrs.append(("seconds", self.seconds))
        if self.ptt is not None:
            attrs.append(("ptt", self.ptt))
        if self._streaming_sidecar is not None:
            attrs.append(("streaming_sidecar", "[binary data]"))
        attrs.append(("downloadable", self.downloadablemedia_attributes))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))
</pre></div>
</td>
</tr><tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1424')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_sticker.py: 8-19
</a>
<div class="mid" id="frag1424" style="display:none"><pre>
    def __str__(self):
        attrs = []
        if self.width is not None:
            attrs.append(("width", self.width))
        if self.height is not None:
            attrs.append(("height", self.height))
        if self.png_thumbnail is not None:
            attrs.append(("png_thumbnail", self.png_thumbnail))
        attrs.append(("downloadable", self.downloadablemedia_attributes))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1602')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_context_info.py: 19-37
</a>
<div class="mid" id="frag1602" style="display:none"><pre>
    def __str__(self):
        attribs = []
        if self._stanza_id is not None:
            attribs.append(("stanza_id", self.stanza_id))
        if self._participant is not None:
            attribs.append(("participant", self.participant))
        if self.quoted_message is not None:
            attribs.append(("quoted_message", self.quoted_message))
        if self._remote_jid is not None:
            attribs.append(("remote_jid", self.remote_jid))
        if self.mentioned_jid is not None and len(self.mentioned_jid):
            attribs.append(("mentioned_jid", self.mentioned_jid))
        if self.edit_version is not None:
            attribs.append(("edit_version", self.edit_version))
        if self.revoke_message is not None:
            attribs.append(("revoke_message", self.revoke_message))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attribs)))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1434')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_video.py: 14-35
</a>
<div class="mid" id="frag1434" style="display:none"><pre>
    def __str__(self):
        attrs = []
        if self.width is not None:
            attrs.append(("width", self.width))
        if self.height is not None:
            attrs.append(("height", self.height))
        if self.seconds is not None:
            attrs.append(("seconds", self.seconds))
        if self.gif_playback is not None:
            attrs.append(("gif_playback", self.gif_playback))
        if self.jpeg_thumbnail is not None:
            attrs.append(("jpeg_thumbnail", "[binary data]"))
        if self.gif_attribution is not None:
            attrs.append(("gif_attribution", self.gif_attribution))
        if self.caption is not None:
            attrs.append(("caption", self.caption))
        if self.streaming_sidecar is not None:
            attrs.append(("streaming_sidecar", "[binary data]"))
        attrs.append(("downloadable", self.downloadablemedia_attributes))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1477')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_message.py: 40-66
</a>
<div class="mid" id="frag1477" style="display:none"><pre>
        self._protocol = protocol  # type: ProtocolAttributes

    def __str__(self):
        attrs = []
        if self.conversation is not None:
            attrs.append(("conversation", self.conversation))
        if self.image is not None:
            attrs.append(("image", self.image))
        if self.contact is not None:
            attrs.append(("contact", self.contact))
        if self.location is not None:
            attrs.append(("location", self.location))
        if self.extended_text is not None:
            attrs.append(("extended_text", self.extended_text))
        if self.document is not None:
            attrs.append(("document", self.document))
        if self.audio is not None:
            attrs.append(("audio", self.audio))
        if self.video is not None:
            attrs.append(("video", self.video))
        if self.sticker is not None:
            attrs.append(("sticker", self.sticker))
        if self._sender_key_distribution_message is not None:
            attrs.append(("sender_key_distribution_message", self.sender_key_distribution_message))
        if self._protocol is not None:
            attrs.append(("protocol", self.protocol))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1525')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/attributes_location.py: 33-59
</a>
<div class="mid" id="frag1525" style="display:none"><pre>
    def __str__(self):
        attrs = []
        if self.degrees_latitude is not None:
            attrs.append(("degrees_latitude", self.degrees_latitude))
        if self.degrees_longitude is not None:
            attrs.append(("degrees_longitude", self.degrees_longitude))
        if self.name is not None:
            attrs.append(("name", self.name))
        if self.address is not None:
            attrs.append(("address", self.address))
        if self.url is not None:
            attrs.append(("url", self.url))
        if self.duration is not None:
            attrs.append(("duration", self.duration))
        if self.accuracy_in_meters is not None:
            attrs.append(("accuracy_in_meters", self.accuracy_in_meters))
        if self.speed_in_mps is not None:
            attrs.append(("speed_in_mps", self.speed_in_mps))
        if self.degrees_clockwise_from_magnetic_north is not None:
            attrs.append(("degrees_clockwise_from_magnetic_north", self.degrees_clockwise_from_magnetic_north))
        if self.axolotl_sender_key_distribution_message is not None:
            attrs.append(("axolotl_sender_key_distribution_message", "[binary data]"))
        if self.jpeg_thumbnail is not None:
            attrs.append(("jpeg_thumbnail", "[binary data]"))

        return "[%s]" % " ".join((map(lambda item: "%s=%s" % item, attrs)))

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 14:</b> &nbsp; 5 fragments, nominal size 18 lines, similarity 70%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1577')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/converter.py: 87-113
</a>
<div class="mid" id="frag1577" style="display:none"><pre>
            self.proto_to_contextinfo(proto.context_info) if proto.HasField("context_info") else None
        )

    def location_to_proto(self, location_attributes):
        # type: (LocationAttributes) -&gt; Message.LocationMessage
        location_message = Message.LocationMessage()
        if location_attributes.degrees_latitude is not None:
            location_message.degrees_latitude = location_attributes.degrees_latitude
        if location_attributes.degrees_longitude is not None:
            location_message.degrees_longitude = location_attributes.degrees_longitude
        if location_attributes.name is not None:
            location_message.name = location_attributes.name
        if location_attributes.address is not None:
            location_message.address = location_attributes.address
        if location_attributes.url is not None:
            location_message.url = location_attributes.url
        if location_attributes.duration is not None:
            location_message.duration = location_attributes.duration
        if location_attributes.accuracy_in_meters is not None:
            location_message.accuracy_in_meters = location_attributes.accuracy_in_meters
        if location_attributes.speed_in_mps is not None:
            location_message.speed_in_mps = location_attributes.speed_in_mps
        if location_attributes.degrees_clockwise_from_magnetic_north is not None:
            location_message.degrees_clockwise_from_magnetic_north = \
                location_attributes.degrees_clockwise_from_magnetic_north
        if location_attributes.axolotl_sender_key_distribution_message is not None:
            location_message._axolotl_sender_key_distribution_message = \
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1587')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/converter.py: 230-251
</a>
<div class="mid" id="frag1587" style="display:none"><pre>
            self.proto_to_downloadablemedia(proto),
            proto.seconds,
            proto.ptt
        )

    def video_to_proto(self, video_attributes):
        # type: (VideoAttributes) -&gt; Message.VideoMessage
        m = Message.VideoMessage()
        if video_attributes.width is not None:
            m.width = video_attributes.width
        if video_attributes.height is not None:
            m.height = video_attributes.height
        if video_attributes.seconds is not None:
            m.seconds = video_attributes.seconds
        if video_attributes.gif_playback is not None:
            m.gif_playback = video_attributes.gif_playback
        if video_attributes.jpeg_thumbnail is not None:
            m.jpeg_thumbnail = video_attributes.jpeg_thumbnail
        if video_attributes.gif_attribution is not None:
            m.gif_attribution = video_attributes.gif_attribution
        if video_attributes.caption is not None:
            m.caption = video_attributes.caption
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1581')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/converter.py: 155-173
</a>
<div class="mid" id="frag1581" style="display:none"><pre>
            proto.width, proto.height,
            proto.caption if proto.HasField("caption") else None,
            proto.jpeg_thumbnail if proto.HasField("jpeg_thumbnail") else None
        )

    def extendedtext_to_proto(self, extendedtext_attributes):
        # type: (ExtendedTextAttributes) -&gt; Message.ExtendedTextMessage
        m = Message.ExtendedTextMessage()
        if extendedtext_attributes.text is not None:
            m.text = extendedtext_attributes.text
        if extendedtext_attributes.matched_text is not None:
            m.matched_text = extendedtext_attributes.matched_text
        if extendedtext_attributes.canonical_url is not None:
            m.canonical_url = extendedtext_attributes.canonical_url
        if extendedtext_attributes.description is not None:
            m.description = extendedtext_attributes.description
        if extendedtext_attributes.title is not None:
            m.title = extendedtext_attributes.title
        if extendedtext_attributes.jpeg_thumbnail is not None:
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1583')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/converter.py: 186-202
</a>
<div class="mid" id="frag1583" style="display:none"><pre>
            proto.title if proto.HasField("title") else None,
            proto.jpeg_thumbnail if proto.HasField("jpeg_thumbnail") else None,
            self.proto_to_contextinfo(proto.context_info) if proto.HasField("context_info") else None
        )

    def document_to_proto(self, document_attributes):
        # type: (DocumentAttributes) -&gt; Message.DocumentMessage

        m = Message.DocumentMessage()
        if document_attributes.file_name is not None:
            m.file_name = document_attributes.file_name
        if document_attributes.file_length is not None:
            m.file_length = document_attributes.file_length
        if document_attributes.title is not None:
            m.title = document_attributes.title
        if document_attributes.page_count is not None:
            m.page_count = document_attributes.page_count
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1595')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/protocol_messages/protocolentities/attributes/converter.py: 313-331
</a>
<div class="mid" id="frag1595" style="display:none"><pre>
    def proto_to_media(self, proto):
        return MediaAttributes(
            context_info=proto.context_info if proto.HasField("context_info") else None
        )

    def contextinfo_to_proto(self, contextinfo_attributes):
        # type: (ContextInfoAttributes) -&gt; ContextInfo
        cxt_info = ContextInfo()
        if contextinfo_attributes.stanza_id is not None:
            cxt_info.stanza_id = contextinfo_attributes.stanza_id
        if contextinfo_attributes.participant is not None:
            cxt_info.participant = contextinfo_attributes.participant
        if contextinfo_attributes.quoted_message:
            cxt_info.quoted_message.MergeFrom(self.message_to_proto(contextinfo_attributes.quoted_message))
        if contextinfo_attributes.remote_jid is not None:
            cxt_info.remote_jid = contextinfo_attributes.remote_jid
        if contextinfo_attributes.mentioned_jid is not None and len(contextinfo_attributes.mentioned_jid):
            cxt_info.mentioned_jid[:] = contextinfo_attributes.mentioned_jid
        if contextinfo_attributes.edit_version is not None:
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 15:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag1720')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/interface/interface.py: 27-39
</a>
<div class="mid" id="frag1720" style="display:none"><pre>
    def __init__(self):
        super(YowInterfaceLayer, self).__init__()
        self.reconnect = False
        self.entity_callbacks = {}
        self.iqRegistry = {}
        # self.receiptsRegistry = {}
        members = inspect.getmembers(self, predicate=inspect.ismethod)
        for m in members:
            if hasattr(m[1], "entity_callback"):
                fname = m[0]
                fn = m[1]
                self.entity_callbacks[fn.entity_callback] = getattr(self, fname)

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag1743')" href="javascript:;">
yowsup-3.3.0/yowsup/layers/__init__.py: 45-57
</a>
<div class="mid" id="frag1743" style="display:none"><pre>
    def __init__(self):
        self.setLayers(None, None)
        self.interface = None
        self.event_callbacks = {}
        self.__stack = None
        self.lock = threading.Lock()
        members = inspect.getmembers(self, predicate=inspect.ismethod)
        for m in members:
            if hasattr(m[1], "event_callback"):
                fname = m[0]
                fn = m[1]
                self.event_callbacks[fn.event_callback] = getattr(self, fname)

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<script language="JavaScript">
function ShowHide(divId) { 
    if(document.getElementById(divId).style.display == 'none') {
        document.getElementById(divId).style.display='block';
    } else { 
        document.getElementById(divId).style.display = 'none';
    } 
}
</script>
</body>
</html>
