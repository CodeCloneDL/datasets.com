<html>
<head>
    <title>NiCad6 Clone Report</title>
    <style type="text/css">
        body {font-family:sans-serif;}
        table {background-color:white; border:0px; padding:0px; border-spacing:4px; width:auto; margin-left:30px; margin-right:auto;}
        td {background-color:rgba(192,212,238,0.8); border:0px; padding:8px; width:auto; vertical-align:top; border-radius:8px}
        pre {background-color:white; padding:4px;}
        a {color:darkblue;}
    </style>
</head>
<body>
<h2>NiCad6 Clone Report</h2>
<table>
<tr style="font-size:14pt">
<td><b>System:</b> &nbsp; jinja-3.0.3</td>
<td><b>Clone pairs:</b> &nbsp; 37</td>
<td><b>Clone classes:</b> &nbsp; 7</td>
</tr>
<tr style="font-size:12pt">
<td style="background-color:white">Clone type: &nbsp; 3-2</td>
<td style="background-color:white">Granularity: &nbsp; functions-blind</td>
<td style="background-color:white">Max diff threshold: &nbsp; 30%</td>
<td style="background-color:white">Clone size: &nbsp; 10 - 2500 lines</td>
<td style="background-color:white">Total functions-blind: &nbsp; 580</td>
</tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 1:</b> &nbsp; 6 fragments, nominal size 15 lines, similarity 73%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag102')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 647-662
</a>
<div class="mid" id="frag102" style="display:none"><pre>
    def test_lstrip_angle_bracket_simple(self, env):
        env = Environment(
            "&lt;%",
            "%&gt;",
            "${",
            "}",
            "&lt;%#",
            "%&gt;",
            "%",
            "##",
            lstrip_blocks=True,
            trim_blocks=True,
        )
        tmpl = env.from_string("""    &lt;% if True %&gt;hello    &lt;% endif %&gt;""")
        assert tmpl.render() == "hello    "

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag103')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 663-678
</a>
<div class="mid" id="frag103" style="display:none"><pre>
    def test_lstrip_angle_bracket_comment(self, env):
        env = Environment(
            "&lt;%",
            "%&gt;",
            "${",
            "}",
            "&lt;%#",
            "%&gt;",
            "%",
            "##",
            lstrip_blocks=True,
            trim_blocks=True,
        )
        tmpl = env.from_string("""    &lt;%# if True %&gt;hello    &lt;%# endif %&gt;""")
        assert tmpl.render() == "hello    "

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag104')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 679-700
</a>
<div class="mid" id="frag104" style="display:none"><pre>
    def test_lstrip_angle_bracket(self, env):
        env = Environment(
            "&lt;%",
            "%&gt;",
            "${",
            "}",
            "&lt;%#",
            "%&gt;",
            "%",
            "##",
            lstrip_blocks=True,
            trim_blocks=True,
        )
        tmpl = env.from_string(
            """\
    &lt;%# regular comment %&gt;
    &lt;% for item in seq %&gt;
${item} ## the rest of the stuff
   &lt;% endfor %&gt;"""
        )
        assert tmpl.render(seq=range(5)) == "".join(f"{x}\n" for x in range(5))

</pre></div>
</td>
</tr><tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag105')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 701-722
</a>
<div class="mid" id="frag105" style="display:none"><pre>
    def test_lstrip_angle_bracket_compact(self, env):
        env = Environment(
            "&lt;%",
            "%&gt;",
            "${",
            "}",
            "&lt;%#",
            "%&gt;",
            "%",
            "##",
            lstrip_blocks=True,
            trim_blocks=True,
        )
        tmpl = env.from_string(
            """\
    &lt;%#regular comment%&gt;
    &lt;%for item in seq%&gt;
${item} ## the rest of the stuff
   &lt;%endfor%&gt;"""
        )
        assert tmpl.render(seq=range(5)) == "".join(f"{x}\n" for x in range(5))

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag137')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 1016-1030
</a>
<div class="mid" id="frag137" style="display:none"><pre>
    def test_no_trim_php_syntax(self, env):
        env = Environment(
            "&lt;?",
            "?&gt;",
            "&lt;?=",
            "?&gt;",
            "&lt;!--",
            "--&gt;",
            lstrip_blocks=False,
            trim_blocks=True,
        )
        tmpl = env.from_string("    &lt;? if True +?&gt;\n\n    &lt;? endif ?&gt;")
        assert tmpl.render() == "    \n\n    "
        tmpl = env.from_string("    &lt;!-- comment +--&gt;\n\n    ")
        assert tmpl.render() == "    \n\n    "
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag122')" href="javascript:;">
jinja-3.0.3/tests/test_lexnparse.py: 894-914
</a>
<div class="mid" id="frag122" style="display:none"><pre>
    def test_comment_syntax(self, env):
        env = Environment(
            "&lt;!--",
            "--&gt;",
            "${",
            "}",
            "&lt;!--#",
            "--&gt;",
            lstrip_blocks=True,
            trim_blocks=True,
        )
        tmpl = env.from_string(
            """\
&lt;!--# I'm a comment, I'm not interesting --&gt;\
&lt;!-- for item in seq ---&gt;
    ${item}
&lt;!--- endfor --&gt;"""
        )
        assert tmpl.render(seq=range(5)) == "01234"


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 2:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 90%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag256')" href="javascript:;">
jinja-3.0.3/tests/test_filters.py: 418-430
</a>
<div class="mid" id="frag256" style="display:none"><pre>
    def test_sum_attributes_nested(self, env):
        tmpl = env.from_string("""{{ values|sum('real.value') }}""")
        assert (
            tmpl.render(
                values=[
                    {"real": {"value": 23}},
                    {"real": {"value": 1}},
                    {"real": {"value": 18}},
                ]
            )
            == "42"
        )

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag574')" href="javascript:;">
jinja-3.0.3/tests/test_async_filters.py: 197-210
</a>
<div class="mid" id="frag574" style="display:none"><pre>
def test_sum_attributes_nested(env_async):
    tmpl = env_async.from_string("""{{ values|sum('real.value') }}""")
    assert (
        tmpl.render(
            values=[
                {"real": {"value": 23}},
                {"real": {"value": 1}},
                {"real": {"value": 18}},
            ]
        )
        == "42"
    )


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 3:</b> &nbsp; 4 fragments, nominal size 11 lines, similarity 72%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag293')" href="javascript:;">
jinja-3.0.3/tests/test_filters.py: 726-738
</a>
<div class="mid" id="frag293" style="display:none"><pre>
    def test_simple_select_attr(self, env):
        User = namedtuple("User", "name,is_active")
        env = Environment()
        users = [
            User("john", True),
            User("jane", True),
            User("mike", False),
        ]
        tmpl = env.from_string(
            '{{ users|selectattr("is_active")|map(attribute="name")|join("|") }}'
        )
        assert tmpl.render(users=users) == "john|jane"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag295')" href="javascript:;">
jinja-3.0.3/tests/test_filters.py: 752-764
</a>
<div class="mid" id="frag295" style="display:none"><pre>
    def test_func_select_attr(self, env):
        User = namedtuple("User", "id,name")
        env = Environment()
        users = [
            User(1, "john"),
            User(2, "jane"),
            User(3, "mike"),
        ]
        tmpl = env.from_string(
            '{{ users|selectattr("id", "odd")|map(attribute="name")|join("|") }}'
        )
        assert tmpl.render(users=users) == "john|mike"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag294')" href="javascript:;">
jinja-3.0.3/tests/test_filters.py: 739-751
</a>
<div class="mid" id="frag294" style="display:none"><pre>
    def test_simple_reject_attr(self, env):
        User = namedtuple("User", "name,is_active")
        env = Environment()
        users = [
            User("john", True),
            User("jane", True),
            User("mike", False),
        ]
        tmpl = env.from_string(
            '{{ users|rejectattr("is_active")|map(attribute="name")|join("|") }}'
        )
        assert tmpl.render(users=users) == "mike"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag296')" href="javascript:;">
jinja-3.0.3/tests/test_filters.py: 765-777
</a>
<div class="mid" id="frag296" style="display:none"><pre>
    def test_func_reject_attr(self, env):
        User = namedtuple("User", "id,name")
        env = Environment()
        users = [
            User(1, "john"),
            User(2, "jane"),
            User(3, "mike"),
        ]
        tmpl = env.from_string(
            '{{ users|rejectattr("id", "odd")|map(attribute="name")|join("|") }}'
        )
        assert tmpl.render(users=users) == "jane"

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 4:</b> &nbsp; 4 fragments, nominal size 11 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag318')" href="javascript:;">
jinja-3.0.3/tests/test_core_tags.py: 111-127
</a>
<div class="mid" id="frag318" style="display:none"><pre>
    def test_recursive(self, env):
        tmpl = env.from_string(
            """{% for item in seq recursive -%}
            [{{ item.a }}{% if item.b %}&lt;{{ loop(item.b) }}&gt;{% endif %}]
        {%- endfor %}"""
        )
        assert (
            tmpl.render(
                seq=[
                    dict(a=1, b=[dict(a=1), dict(a=2)]),
                    dict(a=2, b=[dict(a=1), dict(a=2)]),
                    dict(a=3, b=[dict(a="a")]),
                ]
            )
            == "[1&lt;[1][2]&gt;][2&lt;[1][2]&gt;][3&lt;[a]&gt;]"
        )

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag321')" href="javascript:;">
jinja-3.0.3/tests/test_core_tags.py: 164-180
</a>
<div class="mid" id="frag321" style="display:none"><pre>
    def test_recursive_depth(self, env):
        tmpl = env.from_string(
            """{% for item in seq recursive -%}
        [{{ loop.depth }}:{{ item.a }}{% if item.b %}&lt;{{ loop(item.b) }}&gt;{% endif %}]
        {%- endfor %}"""
        )
        assert (
            tmpl.render(
                seq=[
                    dict(a=1, b=[dict(a=1), dict(a=2)]),
                    dict(a=2, b=[dict(a=1), dict(a=2)]),
                    dict(a=3, b=[dict(a="a")]),
                ]
            )
            == "[1:1&lt;[2:1][2:2]&gt;][1:2&lt;[2:1][2:2]&gt;][1:3&lt;[2:a]&gt;]"
        )

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag320')" href="javascript:;">
jinja-3.0.3/tests/test_core_tags.py: 147-163
</a>
<div class="mid" id="frag320" style="display:none"><pre>
    def test_recursive_depth0(self, env):
        tmpl = env.from_string(
            """{% for item in seq recursive -%}
        [{{ loop.depth0 }}:{{ item.a }}{% if item.b %}&lt;{{ loop(item.b) }}&gt;{% endif %}]
        {%- endfor %}"""
        )
        assert (
            tmpl.render(
                seq=[
                    dict(a=1, b=[dict(a=1), dict(a=2)]),
                    dict(a=2, b=[dict(a=1), dict(a=2)]),
                    dict(a=3, b=[dict(a="a")]),
                ]
            )
            == "[0:1&lt;[1:1][1:2]&gt;][0:2&lt;[1:1][1:2]&gt;][0:3&lt;[1:a]&gt;]"
        )

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag319')" href="javascript:;">
jinja-3.0.3/tests/test_core_tags.py: 128-146
</a>
<div class="mid" id="frag319" style="display:none"><pre>
    def test_recursive_lookaround(self, env):
        tmpl = env.from_string(
            """{% for item in seq recursive -%}
            [{{ loop.previtem.a if loop.previtem is defined else 'x' }}.{{
            item.a }}.{{ loop.nextitem.a if loop.nextitem is defined else 'x'
            }}{% if item.b %}&lt;{{ loop(item.b) }}&gt;{% endif %}]
        {%- endfor %}"""
        )
        assert (
            tmpl.render(
                seq=[
                    dict(a=1, b=[dict(a=1), dict(a=2)]),
                    dict(a=2, b=[dict(a=1), dict(a=2)]),
                    dict(a=3, b=[dict(a="a")]),
                ]
            )
            == "[x.1.2&lt;[x.1.2][1.2.x]&gt;][1.2.3&lt;[x.1.2][1.2.x]&gt;][2.3.x&lt;[x.a.x]&gt;]"
        )

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 5:</b> &nbsp; 6 fragments, nominal size 10 lines, similarity 71%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag397')" href="javascript:;">
jinja-3.0.3/tests/test_inheritance.py: 109-125
</a>
<div class="mid" id="frag397" style="display:none"><pre>
    def test_super(self, env):
        env = Environment(
            loader=DictLoader(
                {
                    "a": "{% block intro %}INTRO{% endblock %}|"
                    "BEFORE|{% block data %}INNER{% endblock %}|AFTER",
                    "b": '{% extends "a" %}{% block data %}({{ '
                    "super() }}){% endblock %}",
                    "c": '{% extends "b" %}{% block intro %}--{{ '
                    "super() }}--{% endblock %}\n{% block data "
                    "%}[{{ super() }}]{% endblock %}",
                }
            )
        )
        tmpl = env.get_template("c")
        assert tmpl.render() == "--INTRO--|BEFORE|[(INNER)]|AFTER"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag478')" href="javascript:;">
jinja-3.0.3/tests/test_regression.py: 419-431
</a>
<div class="mid" id="frag478" style="display:none"><pre>
    def test_scopes_and_include(self):
        env = Environment(
            loader=DictLoader(
                {
                    "include.html": "{{ var }}",
                    "base.html": '{% include "include.html" %}',
                    "child.html": '{% extends "base.html" %}{% set var = 42 %}',
                }
            )
        )
        t = env.get_template("child.html")
        assert t.render() == "42"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag411')" href="javascript:;">
jinja-3.0.3/tests/test_inheritance.py: 335-354
</a>
<div class="mid" id="frag411" style="display:none"><pre>
    def test_duplicate_required_or_scoped(self, env):
        env = Environment(
            loader=DictLoader(
                {
                    "default1": "{% for item in seq %}[{% block item "
                    "scoped scoped %}}{{% endblock %}}]{{% endfor %}}",
                    "default2": "{% for item in seq %}[{% block item "
                    "required required %}}{{% endblock %}}]{{% endfor %}}",
                    "child": "{% if default %}{% extends default %}{% else %}"
                    "{% extends 'default1' %}{% endif %}{%- block x %}"
                    "CHILD{% endblock %}",
                }
            )
        )
        tmpl = env.get_template("child")
        with pytest.raises(TemplateSyntaxError):
            tmpl.render(default="default1", seq=list(range(3)))
            tmpl.render(default="default2", seq=list(range(3)))


</pre></div>
</td>
</tr><tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag405')" href="javascript:;">
jinja-3.0.3/tests/test_inheritance.py: 210-236
</a>
<div class="mid" id="frag405" style="display:none"><pre>
    def test_scoped_block_after_inheritance(self, env):
        env = Environment(
            loader=DictLoader(
                {
                    "layout.html": """
            {% block useless %}{% endblock %}
            """,
                    "index.html": """
            {%- extends 'layout.html' %}
            {% from 'helpers.html' import foo with context %}
            {% block useless %}
                {% for x in [1, 2, 3] %}
                    {% block testing scoped %}
                        {{ foo(x) }}
                    {% endblock %}
                {% endfor %}
            {% endblock %}
            """,
                    "helpers.html": """
            {% macro foo(x) %}{{ the_foo + x }}{% endmacro %}
            """,
                }
            )
        )
        rv = env.get_template("index.html").render(the_foo=42).split()
        assert rv == ["43", "44", "45"]

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag401')" href="javascript:;">
jinja-3.0.3/tests/test_inheritance.py: 148-161
</a>
<div class="mid" id="frag401" style="display:none"><pre>
    def test_dynamic_inheritance(self, env):
        env = Environment(
            loader=DictLoader(
                {
                    "default1": "DEFAULT1{% block x %}{% endblock %}",
                    "default2": "DEFAULT2{% block x %}{% endblock %}",
                    "child": "{% extends default %}{% block x %}CHILD{% endblock %}",
                }
            )
        )
        tmpl = env.get_template("child")
        for m in range(1, 3):
            assert tmpl.render(default=f"default{m}") == f"DEFAULT{m}CHILD"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag410')" href="javascript:;">
jinja-3.0.3/tests/test_inheritance.py: 311-334
</a>
<div class="mid" id="frag410" style="display:none"><pre>
    def test_required_with_scope(self, env):
        env = Environment(
            loader=DictLoader(
                {
                    "default1": "{% for item in seq %}[{% block item scoped required %}"
                    "{% endblock %}]{% endfor %}",
                    "child1": "{% extends 'default1' %}{% block item %}"
                    "{{ item }}{% endblock %}",
                    "default2": "{% for item in seq %}[{% block item required scoped %}"
                    "{% endblock %}]{% endfor %}",
                    "child2": "{% extends 'default2' %}{% block item %}"
                    "{{ item }}{% endblock %}",
                }
            )
        )
        t1 = env.get_template("child1")
        t2 = env.get_template("child2")

        assert t1.render(seq=list(range(3))) == "[0][1][2]"

        # scoped must come before required
        with pytest.raises(TemplateSyntaxError):
            t2.render(seq=list(range(3)))

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 6:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 80%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag451')" href="javascript:;">
jinja-3.0.3/tests/test_regression.py: 14-46
</a>
<div class="mid" id="frag451" style="display:none"><pre>
    def test_assigned_scoping(self, env):
        t = env.from_string(
            """
        {%- for item in (1, 2, 3, 4) -%}
            [{{ item }}]
        {%- endfor %}
        {{- item -}}
        """
        )
        assert t.render(item=42) == "[1][2][3][4]42"

        t = env.from_string(
            """
        {%- for item in (1, 2, 3, 4) -%}
            [{{ item }}]
        {%- endfor %}
        {%- set item = 42 %}
        {{- item -}}
        """
        )
        assert t.render() == "[1][2][3][4]42"

        t = env.from_string(
            """
        {%- set item = 42 %}
        {%- for item in (1, 2, 3, 4) -%}
            [{{ item }}]
        {%- endfor %}
        {{- item -}}
        """
        )
        assert t.render() == "[1][2][3][4]42"

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag452')" href="javascript:;">
jinja-3.0.3/tests/test_regression.py: 47-83
</a>
<div class="mid" id="frag452" style="display:none"><pre>
    def test_closure_scoping(self, env):
        t = env.from_string(
            """
        {%- set wrapper = "&lt;FOO&gt;" %}
        {%- for item in (1, 2, 3, 4) %}
            {%- macro wrapper() %}[{{ item }}]{% endmacro %}
            {{- wrapper() }}
        {%- endfor %}
        {{- wrapper -}}
        """
        )
        assert t.render() == "[1][2][3][4]&lt;FOO&gt;"

        t = env.from_string(
            """
        {%- for item in (1, 2, 3, 4) %}
            {%- macro wrapper() %}[{{ item }}]{% endmacro %}
            {{- wrapper() }}
        {%- endfor %}
        {%- set wrapper = "&lt;FOO&gt;" %}
        {{- wrapper -}}
        """
        )
        assert t.render() == "[1][2][3][4]&lt;FOO&gt;"

        t = env.from_string(
            """
        {%- for item in (1, 2, 3, 4) %}
            {%- macro wrapper() %}[{{ item }}]{% endmacro %}
            {{- wrapper() }}
        {%- endfor %}
        {{- wrapper -}}
        """
        )
        assert t.render(wrapper=23) == "[1][2][3][4]23"


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 7:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 91%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag537')" href="javascript:;">
jinja-3.0.3/tests/test_security.py: 99-112
</a>
<div class="mid" id="frag537" style="display:none"><pre>
    def test_binary_operator_intercepting(self, env):
        def disable_op(left, right):
            raise TemplateRuntimeError("that operator so does not work")

        for expr, ctx, rv in ("1 + 2", {}, "3"), ("a + 2", {"a": 2}, "4"):
            env = SandboxedEnvironment()
            env.binop_table["+"] = disable_op
            t = env.from_string(f"{{{{ {expr} }}}}")
            assert t.render(ctx) == rv
            env.intercepted_binops = frozenset(["+"])
            t = env.from_string(f"{{{{ {expr} }}}}")
            with pytest.raises(TemplateRuntimeError):
                t.render(ctx)

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag539')" href="javascript:;">
jinja-3.0.3/tests/test_security.py: 113-127
</a>
<div class="mid" id="frag539" style="display:none"><pre>
    def test_unary_operator_intercepting(self, env):
        def disable_op(arg):
            raise TemplateRuntimeError("that operator so does not work")

        for expr, ctx, rv in ("-1", {}, "-1"), ("-a", {"a": 2}, "-2"):
            env = SandboxedEnvironment()
            env.unop_table["-"] = disable_op
            t = env.from_string(f"{{{{ {expr} }}}}")
            assert t.render(ctx) == rv
            env.intercepted_unops = frozenset(["-"])
            t = env.from_string(f"{{{{ {expr} }}}}")
            with pytest.raises(TemplateRuntimeError):
                t.render(ctx)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<script language="JavaScript">
function ShowHide(divId) { 
    if(document.getElementById(divId).style.display == 'none') {
        document.getElementById(divId).style.display='block';
    } else { 
        document.getElementById(divId).style.display = 'none';
    } 
}
</script>
</body>
</html>
