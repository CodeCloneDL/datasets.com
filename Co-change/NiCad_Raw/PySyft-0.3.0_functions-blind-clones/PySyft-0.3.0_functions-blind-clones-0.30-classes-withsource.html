<html>
<head>
    <title>NiCad6 Clone Report</title>
    <style type="text/css">
        body {font-family:sans-serif;}
        table {background-color:white; border:0px; padding:0px; border-spacing:4px; width:auto; margin-left:30px; margin-right:auto;}
        td {background-color:rgba(192,212,238,0.8); border:0px; padding:8px; width:auto; vertical-align:top; border-radius:8px}
        pre {background-color:white; padding:4px;}
        a {color:darkblue;}
    </style>
</head>
<body>
<h2>NiCad6 Clone Report</h2>
<table>
<tr style="font-size:14pt">
<td><b>System:</b> &nbsp; PySyft-0.3.0</td>
<td><b>Clone pairs:</b> &nbsp; 83</td>
<td><b>Clone classes:</b> &nbsp; 37</td>
</tr>
<tr style="font-size:12pt">
<td style="background-color:white">Clone type: &nbsp; 3-2</td>
<td style="background-color:white">Granularity: &nbsp; functions-blind</td>
<td style="background-color:white">Max diff threshold: &nbsp; 30%</td>
<td style="background-color:white">Clone size: &nbsp; 10 - 2500 lines</td>
<td style="background-color:white">Total functions-blind: &nbsp; 910</td>
</tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 1:</b> &nbsp; 3 fragments, nominal size 10 lines, similarity 90%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag6')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/torch/parameter.py: 61-72
</a>
<div class="mid" id="frag6" style="display:none"><pre>
    def construct_new_object(
        id: UID,
        data: StorableObject,
        description: Optional[str],
        tags: Optional[List[str]],
    ) -&gt; StorableObject:
        data.id = id
        data.tags = tags
        data.description = description
        return data


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag12')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/torch/uppercase_tensor.py: 62-73
</a>
<div class="mid" id="frag12" style="display:none"><pre>
    def construct_new_object(
        id: UID,
        data: StorableObject,
        description: Optional[str],
        tags: Optional[List[str]],
    ) -&gt; StorableObject:
        data.id = id
        data.tags = tags
        data.description = description
        return data


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag54')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/python/complex.py: 195-206
</a>
<div class="mid" id="frag54" style="display:none"><pre>
    def construct_new_object(
        id: UID,
        data: StorableObject,
        description: Optional[str],
        tags: Optional[List[str]],
    ) -&gt; StorableObject:
        setattr(data, "_id", id)
        data.tags = tags
        data.description = description
        return data


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 2:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag56')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/python/util.py: 26-43
</a>
<div class="mid" id="frag56" style="display:none"><pre>
def downcast_args_and_kwargs(
    args: Union[List[Any], Tuple[Any, ...]], kwargs: Dict[Any, Any]
) -&gt; Tuple[List[Any], Dict[Any, Any]]:
    # when we try to handle primitives they often need to be converted to PyPrimitive
    # first so they can be serialized and sent around
    downcasted_args = []
    downcasted_kwargs = {}
    for arg in args:
        # check if its primitive
        downcasted_args.append(downcast(value=arg))

    for k, arg in kwargs.items():
        # check if its primitive
        downcasted_kwargs[k] = downcast(value=arg)

    return (downcasted_args, downcasted_kwargs)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag58')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/python/util.py: 51-66
</a>
<div class="mid" id="frag58" style="display:none"><pre>
def upcast_args_and_kwargs(
    args: Union[List[Any], Tuple[Any, ...]], kwargs: Dict[Any, Any]
) -&gt; Tuple[List[Any], Dict[Any, Any]]:
    # When we invoke remote methods that use C code and cannot utilise our wrapped
    # types through duck typing, we must convert them to the their original form.
    upcasted_args = []
    upcasted_kwargs = {}
    for arg in args:
        # try to upcast if possible
        upcasted_args.append(upcast(value=arg))

    for k, arg in kwargs.items():
        # try to upcast if possible
        upcasted_kwargs[k] = upcast(value=arg)

    return (upcasted_args, upcasted_kwargs)
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 3:</b> &nbsp; 2 fragments, nominal size 13 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag75')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/python/__init__.py: 55-70
</a>
<div class="mid" id="frag75" style="display:none"><pre>
def add_modules(ast: Globals, modules: TypeList[str]) -&gt; None:
    for module in modules:
        parent = get_parent(module, ast)
        attr_name = module.rsplit(".", 1)[-1]

        parent.add_attr(
            attr_name=attr_name,
            attr=Module(
                attr_name,
                module,
                None,
                return_type_name="",
            ),
        )


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag76')" href="javascript:;">
PySyft-0.3.0/src/syft/lib/python/__init__.py: 71-86
</a>
<div class="mid" id="frag76" style="display:none"><pre>
def add_classes(ast: Globals, paths: TypeList[TypeTuple[str, str, Any]]) -&gt; None:
    for path, return_type, ref in paths:
        parent = get_parent(path, ast)
        attr_name = path.rsplit(".", 1)[-1]

        parent.add_attr(
            attr_name=attr_name,
            attr=Class(
                attr_name,
                path,
                ref,  # type: ignore
                return_type_name=return_type,
            ),
        )


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 4:</b> &nbsp; 6 fragments, nominal size 10 lines, similarity 81%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag214')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/domain/service/accept_or_deny_request_service.py: 34-46
</a>
<div class="mid" id="frag214" style="display:none"><pre>
    def __init__(
        self,
        accept: bool,
        request_id: UID,
        address: Address,
        msg_id: Optional[UID] = None,
    ):
        super().__init__(address=address, msg_id=msg_id)

        # if false, deny the request
        self.accept = accept
        self.request_id = request_id

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag229')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/action/exception_action.py: 28-40
</a>
<div class="mid" id="frag229" style="display:none"><pre>
    def __init__(
        self,
        address: Address,
        msg_id_causing_exception: UID,
        exception_type: Type,
        exception_msg: str,
        msg_id: Optional[UID] = None,
    ):
        super().__init__(address=address, msg_id=msg_id)
        self.msg_id_causing_exception = msg_id_causing_exception
        self.exception_type = exception_type
        self.exception_msg = exception_msg

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag255')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/service/obj_search_permission_service.py: 33-46
</a>
<div class="mid" id="frag255" style="display:none"><pre>
    def __init__(
        self,
        add_instead_of_remove: bool,
        target_verify_key: VerifyKey,
        target_object_id: UID,
        address: Address,
        msg_id: Optional[UID] = None,
    ):
        super().__init__(address=address, msg_id=msg_id)

        self.add_instead_of_remove = add_instead_of_remove
        self.target_verify_key = target_verify_key
        self.target_object_id = target_object_id

</pre></div>
</td>
</tr><tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag224')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/action/save_object_action.py: 25-37
</a>
<div class="mid" id="frag224" style="display:none"><pre>
    def __init__(
        self,
        id_at_location: UID,
        obj: object,
        address: Address,
        anyone_can_search_for_this: bool = False,
        msg_id: Optional[UID] = None,
    ):
        super().__init__(address=address, msg_id=msg_id)
        self.id_at_location = id_at_location
        self.obj = obj
        self.anyone_can_search_for_this = anyone_can_search_for_this

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag299')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/service/child_node_lifecycle_service.py: 28-38
</a>
<div class="mid" id="frag299" style="display:none"><pre>
    def __init__(
        self,
        lookup_id: UID,
        child_node_client_address: Address,
        address: Address,
        msg_id: Optional[UID] = None,
    ):
        super().__init__(address=address, msg_id=msg_id)
        self.lookup_id = lookup_id
        self.child_node_client_address = child_node_client_address

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag237')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/action/get_object_action.py: 144-157
</a>
<div class="mid" id="frag237" style="display:none"><pre>
    def __init__(
        self,
        id_at_location: UID,
        address: Address,
        reply_to: Address,
        msg_id: Optional[UID] = None,
        delete_obj: bool = True,
    ):
        self.id_at_location = id_at_location
        self.delete_obj = delete_obj

        # the logger needs self.id_at_location to be set already - so we call this later
        super().__init__(address=address, msg_id=msg_id, reply_to=reply_to)

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 5:</b> &nbsp; 2 fragments, nominal size 33 lines, similarity 96%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag277')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/service/msg_forwarding_service.py: 23-62
</a>
<div class="mid" id="frag277" style="display:none"><pre>
    def process(
        node: AbstractNode, msg: SignedImmediateSyftMessageWithoutReply
    ) -&gt; Optional[SignedMessageT]:
        addr = msg.address
        logger.debug(f"&gt; Forwarding WithoutReply {msg.pprint} to {addr.target_emoji()}")
        # order is important, vm, device, domain, network
        for scope_id in [addr.vm_id, addr.device_id, addr.domain_id, addr.network_id]:
            if scope_id is not None and scope_id in node.store:
                obj = node.store[scope_id]
                try:
                    return obj.send_immediate_msg_without_reply(msg=msg)
                except Exception as e:
                    # TODO: Need to not catch blanket exceptions
                    print(
                        f"{addr} in store doesnt have method send_immediate_msg_without_reply"
                    )
                    print(e)
                    pass

        try:
            for scope_id in [
                addr.vm_id,
                addr.device_id,
                addr.domain_id,
                addr.network_id,
            ]:
                if scope_id is not None:
                    logger.debug(f"&gt; Lookup: {scope_id.emoji()}")
                    if scope_id in node.in_memory_client_registry:
                        in_memory_client = node.in_memory_client_registry[scope_id]
                        return in_memory_client.send_immediate_msg_without_reply(
                            msg=msg
                        )
        except Exception as e:
            # TODO: Need to not catch blanket exceptions
            print(f"{addr} not on nodes in_memory_client. {e}")
            pass
        logger.debug(f"&gt; ‚ùå {node.pprint} ü§∑üèæ‚Äç‚ôÄÔ∏è {addr.target_emoji()}")
        raise Exception("Address unknown - cannot forward message. Throwing it away.")

</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag279')" href="javascript:;">
PySyft-0.3.0/src/syft/core/node/common/service/msg_forwarding_service.py: 72-116
</a>
<div class="mid" id="frag279" style="display:none"><pre>
    def process(
        node: AbstractNode, msg: SignedImmediateSyftMessageWithReply
    ) -&gt; SignedImmediateSyftMessageWithoutReply:
        # def process(
        #     node: AbstractNode, msg: SignedMessageT, verify_key: VerifyKey
        # ) -&gt; SignedMessageT:
        # TODO: Add verify_key?
        addr = msg.address
        logger.debug(f"&gt; Forwarding WithReply {msg.pprint} to {addr.target_emoji()}")

        # order is important, vm, device, domain, network
        for scope_id in [addr.vm_id, addr.device_id, addr.domain_id, addr.network_id]:
            if scope_id is not None and scope_id in node.store:
                obj = node.store[scope_id]
                try:
                    return obj.send_immediate_msg_with_reply(msg=msg)
                except Exception as e:
                    # TODO: Need to not catch blanket exceptions
                    print(
                        f"{addr} in store doesnt have method send_immediate_msg_with_reply"
                    )
                    print(e)
                    pass

        try:
            for scope_id in [
                addr.vm_id,
                addr.device_id,
                addr.domain_id,
                addr.network_id,
            ]:
                if scope_id is not None:
                    logger.debug(f"&gt; Lookup: {scope_id.emoji()}")
                    if scope_id in node.in_memory_client_registry:
                        in_memory_client = node.in_memory_client_registry[scope_id]
                        return in_memory_client.send_immediate_msg_without_reply(
                            msg=msg
                        )
        except Exception as e:
            # TODO: Need to not catch blanket exceptions
            print(f"{addr} not on nodes in_memory_client. {e}")
            pass
        logger.debug(f"&gt; ‚ùå {node.pprint} ü§∑üèæ‚Äç‚ôÄÔ∏è {addr.target_emoji()}")
        raise Exception("Address unknown - cannot forward message. Throwing it away.")

</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 6:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag332')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/torch/parameter_test.py: 11-34
</a>
<div class="mid" id="frag332" style="display:none"><pre>
def test_parameter_vm_remote_operation() -&gt; None:

    alice = sy.VirtualMachine(name="alice")
    alice_client = alice.get_client()

    x = th.nn.Parameter(th.randn(3, 3))

    xp = x.send(alice_client)

    y = xp + xp

    assert len(alice.store._objects) == 2

    y.get()

    assert len(alice.store._objects) == 1

    del xp

    gc.collect()

    assert len(alice.store._objects) == 0


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag333')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/torch/parameter_test.py: 35-58
</a>
<div class="mid" id="frag333" style="display:none"><pre>
def test_get_copy() -&gt; None:

    alice = sy.VirtualMachine(name="alice")
    alice_client = alice.get_client()

    x = th.nn.Parameter(th.randn(3, 3))

    xp = x.send(alice_client)

    y = xp + xp

    assert len(alice.store._objects) == 2

    y.get_copy()

    # no deletion of the object
    assert len(alice.store._objects) == 2

    del xp
    gc.collect()

    assert len(alice.store._objects) == 1


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 7:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag346')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/dict/dict_serde_test.py: 34-52
</a>
<div class="mid" id="frag346" style="display:none"><pre>
def test_dict_serde() -&gt; None:
    t1 = th.tensor([1, 2])
    t2 = th.tensor([1, 3])

    syft_list = Dict({Int(1): t1, Int(2): t2})
    assert type(getattr(syft_list, "id", None)) is UID

    serialized = syft_list._object2proto()

    assert isinstance(serialized, Dict_PB)

    deserialized = Dict._proto2object(proto=serialized)

    assert isinstance(deserialized, Dict)
    assert deserialized.id == syft_list.id
    for deserialized_el, original_el in zip(deserialized, syft_list):
        assert deserialized_el == original_el


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag610')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/list/list_serde_test.py: 10-27
</a>
<div class="mid" id="frag610" style="display:none"><pre>
def test_list_serde() -&gt; None:
    t1 = th.tensor([1, 2])
    t2 = th.tensor([1, 3])

    syft_list = List([t1, t2])

    serialized = syft_list._object2proto()

    assert isinstance(serialized, List_PB)

    deserialized = List._proto2object(proto=serialized)

    assert isinstance(deserialized, List)
    assert deserialized.id == syft_list.id
    for deserialized_el, original_el in zip(deserialized, syft_list):
        assert (deserialized_el == original_el).all()


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 8:</b> &nbsp; 2 fragments, nominal size 22 lines, similarity 90%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag443')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/float/cross_type_test.py: 56-83
</a>
<div class="mid" id="frag443" style="display:none"><pre>
def test_api_float(op, py_obj):
    sy_float = Float(42.5)
    py_float = 42.5

    try:
        func_py = getattr(py_float, op)
    except Exception:
        return

    func_sy = getattr(sy_float, op)

    pypy_err, sypy_err = None, None
    pypy, sypy = None, None

    try:
        pypy = func_py(py_obj)
    except Exception as e_pypy:
        pypy_err = str(e_pypy)

    try:
        sypy = func_sy(py_obj)
    except Exception as e_sysy:
        sypy_err = str(e_sysy)

    if any([pypy_err, sypy_err]):
        assert pypy_err == sypy_err
    else:
        assert pypy == sypy
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag519')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/int/cross_type_test.py: 46-73
</a>
<div class="mid" id="frag519" style="display:none"><pre>
def test_api_int(op, py_obj):
    sy_int = Int(42)
    py_int = 42

    try:
        func_py = getattr(py_int, op)
    except Exception:
        return

    func_sy = getattr(sy_int, op)

    pypy_err, sypy_err = None, None
    pypy, sypy = None, None

    try:
        pypy = func_py(py_obj)
    except Exception as e_pypy:
        pypy_err = str(e_pypy)

    try:
        sypy = func_sy(py_obj)
    except Exception as e_sysy:
        sypy_err = str(e_sysy)

    if any([pypy_err, sypy_err]):
        assert pypy_err == sypy_err
    else:
        assert pypy == sypy
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 9:</b> &nbsp; 5 fragments, nominal size 28 lines, similarity 82%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag445')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/float/pointer_test.py: 71-107
</a>
<div class="mid" id="frag445" style="display:none"><pre>
def test_pointer_objectives(test_objects, func):
    py_obj, sy_obj, remote_sy_obj = test_objects

    if not hasattr(py_obj, func):
        return

    py_method = getattr(py_obj, func)
    sy_method = getattr(sy_obj, func)
    remote_sy_method = getattr(remote_sy_obj, func)

    possible_inputs = inputs[func]

    for possible_input in possible_inputs:
        try:
            py_res = py_method(*possible_input)
        except Exception as py_e:
            py_res = str(py_e)

        try:
            sy_res = sy_method(*possible_input)
        except Exception as sy_e:
            sy_res = str(sy_e)

        try:
            remote_sy_res = remote_sy_method(*possible_input)
            get_permission(remote_sy_res)
            remote_sy_res = remote_sy_res.get()
        except Exception as remote_sy_e:
            remote_sy_res = str(remote_sy_e)

        if isinstance(py_res, float):
            py_res = int(py_res * 1000) / 1000
            sy_res = int(sy_res * 1000) / 1000
            remote_sy_res = int(remote_sy_res * 1000) / 1000

        assert py_res == sy_res
        assert sy_res == remote_sy_res
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag584')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/pointer_test.py: 91-122
</a>
<div class="mid" id="frag584" style="display:none"><pre>
def test_pointer_objectives(test_objects, func):
    py_obj, sy_obj, remote_sy_obj = test_objects

    if not hasattr(py_obj, func):
        return

    py_method = getattr(py_obj, func)
    sy_method = getattr(sy_obj, func)
    remote_sy_method = getattr(remote_sy_obj, func)

    possible_inputs = inputs[func]

    for possible_input in possible_inputs:
        try:
            py_res = py_method(*possible_input)
        except Exception as py_e:
            py_res = str(py_e)

        try:
            sy_res = sy_method(*possible_input)
        except Exception as sy_e:
            sy_res = str(sy_e)

        try:
            remote_sy_res = remote_sy_method(*possible_input)
            get_permission(remote_sy_res)
            remote_sy_res = remote_sy_res.get()
        except Exception as remote_sy_e:
            remote_sy_res = str(remote_sy_e)

        assert py_res == sy_res
        assert sy_res == remote_sy_res
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag664')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/bool/pointer_test.py: 79-117
</a>
<div class="mid" id="frag664" style="display:none"><pre>
def test_pointer_objectives(test_objects, func):
    py_obj, sy_obj, remote_sy_obj = test_objects

    if not hasattr(py_obj, func):
        return

    py_method = getattr(py_obj, func)
    sy_method = getattr(sy_obj, func)
    remote_sy_method = getattr(remote_sy_obj, func)

    possible_inputs = inputs[func]

    for possible_input in possible_inputs:
        try:
            py_res = py_method(*possible_input)
        except Exception as py_e:
            py_res = str(py_e)

        try:
            sy_res = sy_method(*possible_input)
        except Exception as sy_e:
            sy_res = str(sy_e)

        try:
            remote_sy_res = remote_sy_method(*possible_input)
            get_permission(remote_sy_res)
            remote_sy_res = remote_sy_res.get()
        except Exception as remote_sy_e:
            remote_sy_res = str(remote_sy_e)

        if isinstance(py_res, float):
            py_res = int(py_res * 1000) / 1000
            sy_res = int(sy_res * 1000) / 1000
            remote_sy_res = int(remote_sy_res * 1000) / 1000

        assert py_res == sy_res
        assert sy_res == remote_sy_res


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag615')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/list/pointer_test.py: 74-117
</a>
<div class="mid" id="frag615" style="display:none"><pre>
def test_pointer_objectives(test_objects, func):
    py_obj, sy_obj, remote_sy_obj = mapping[test_objects]()

    if not hasattr(py_obj, func):
        return

    py_method = getattr(py_obj, func)
    sy_method = getattr(sy_obj, func)
    remote_sy_method = getattr(remote_sy_obj, func)

    possible_inputs = inputs[func]

    for possible_input in possible_inputs:
        try:
            py_res = py_method(*possible_input)
        except Exception as py_e:
            py_res = str(py_e)

        try:
            sy_res = sy_method(*possible_input)
        except Exception as sy_e:
            sy_res = str(sy_e)

        try:
            remote_sy_res = remote_sy_method(*possible_input)
            get_permission(remote_sy_res)
            remote_sy_res = remote_sy_res.get()
        except Exception as remote_sy_e:
            remote_sy_res = str(remote_sy_e)
        #
        # if isinstance(py_res, float):
        #     py_res = int(py_res * 1000) / 1000
        #     sy_res = int(sy_res * 1000) / 1000
        #     remote_sy_res = int(remote_sy_res * 1000) / 1000

        assert py_res == sy_res
        assert sy_res == remote_sy_res

        assert py_obj == sy_obj
        # TODO add this as well when the store logic will work
        # get_permission(remote_sy_obj)
        # assert sy_obj == remote_sy_obj.get()


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag521')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/int/pointer_test.py: 79-117
</a>
<div class="mid" id="frag521" style="display:none"><pre>
def test_pointer_objectives(test_objects, func):
    py_obj, sy_obj, remote_sy_obj = test_objects

    if not hasattr(py_obj, func):
        return

    py_method = getattr(py_obj, func)
    sy_method = getattr(sy_obj, func)
    remote_sy_method = getattr(remote_sy_obj, func)

    possible_inputs = inputs[func]

    for possible_input in possible_inputs:
        try:
            py_res = py_method(*possible_input)
        except Exception as py_e:
            py_res = str(py_e)

        try:
            sy_res = sy_method(*possible_input)
        except Exception as sy_e:
            sy_res = str(sy_e)

        try:
            remote_sy_res = remote_sy_method(*possible_input)
            get_permission(remote_sy_res)
            remote_sy_res = remote_sy_res.get()
        except Exception as remote_sy_e:
            remote_sy_res = str(remote_sy_e)

        if isinstance(py_res, float):
            py_res = int(py_res * 1000) / 1000
            sy_res = int(sy_res * 1000) / 1000
            remote_sy_res = int(remote_sy_res * 1000) / 1000

        assert py_res == sy_res
        assert sy_res == remote_sy_res


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 10:</b> &nbsp; 2 fragments, nominal size 22 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag522')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/int/pointer_test.py: 120-148
</a>
<div class="mid" id="frag522" style="display:none"><pre>
def test_pointer_properties(test_objects, property):
    py_obj, sy_obj, remote_sy_obj = test_objects

    # TODO add support for proper properties

    try:
        py_res = getattr(py_obj, property)
    except Exception as py_e:
        py_res = str(py_e)

    try:
        sy_res = getattr(sy_obj, property)()
    except Exception as sy_e:
        sy_res = str(sy_e)

    try:
        remote_sy_res = getattr(remote_sy_obj, property)()
        get_permission(remote_sy_res)
        remote_sy_res = remote_sy_res.get()
    except Exception as remote_sy_e:
        remote_sy_res = str(remote_sy_e)

    if isinstance(py_res, float):
        py_res = int(py_res * 1000) / 1000
        sy_res = int(sy_res * 1000) / 1000
        remote_sy_res = int(remote_sy_res * 1000) / 1000

    assert py_res == sy_res
    assert sy_res == remote_sy_res
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag665')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/bool/pointer_test.py: 122-150
</a>
<div class="mid" id="frag665" style="display:none"><pre>
def test_pointer_properties(test_objects, property):
    py_obj, sy_obj, remote_sy_obj = test_objects

    # TODO add support for proper properties

    try:
        py_res = getattr(py_obj, property)
    except Exception as py_e:
        py_res = str(py_e)

    try:
        sy_res = getattr(sy_obj, property)()
    except Exception as sy_e:
        sy_res = str(sy_e)

    try:
        remote_sy_res = getattr(remote_sy_obj, property)()
        get_permission(remote_sy_res)
        remote_sy_res = remote_sy_res.get()
    except Exception as remote_sy_e:
        remote_sy_res = str(remote_sy_e)

    if isinstance(py_res, float):
        py_res = int(py_res * 1000) / 1000
        sy_res = int(sy_res * 1000) / 1000
        remote_sy_res = int(remote_sy_res * 1000) / 1000

    assert py_res == sy_res
    assert sy_res == remote_sy_res
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 11:</b> &nbsp; 2 fragments, nominal size 42 lines, similarity 72%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag535')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 83-142
</a>
<div class="mid" id="frag535" style="display:none"><pre>
def test_find():
    checkequal(0, python.String("abcdefghiabc"), "find", python.String("abc"))
    checkequal(9, python.String("abcdefghiabc"), "find", python.String("abc"), 1)
    checkequal(-1, python.String("abcdefghiabc"), "find", python.String("def"), 4)

    checkequal(0, python.String("abc"), "find", python.String(""), 0)
    checkequal(3, python.String("abc"), "find", python.String(""), 3)
    checkequal(-1, python.String("abc"), "find", python.String(""), 4)

    # to check the ability to pass None as defaults
    checkequal(2, python.String("rrarrrrrrrrra"), "find", python.String("a"))
    checkequal(12, python.String("rrarrrrrrrrra"), "find", python.String("a"), 4)
    checkequal(-1, python.String("rrarrrrrrrrra"), "find", python.String("a"), 4, 6)
    checkequal(12, python.String("rrarrrrrrrrra"), "find", python.String("a"), 4, None)
    checkequal(2, python.String("rrarrrrrrrrra"), "find", python.String("a"), None, 6)

    checkraises(TypeError, python.String("hello"), "find")

    if contains_bytes:
        checkequal(-1, python.String("hello"), "find", 42)
    else:
        checkraises(TypeError, python.String("hello"), "find", 42)

    checkequal(0, python.String(""), "find", python.String(""))
    checkequal(-1, python.String(""), "find", python.String(""), 1, 1)
    checkequal(-1, python.String(""), "find", python.String(""), sys.maxsize, 0)

    checkequal(-1, python.String(""), "find", python.String("xx"))
    checkequal(-1, python.String(""), "find", python.String("xx"), 1, 1)
    checkequal(-1, python.String(""), "find", python.String("xx"), sys.maxsize, 0)

    # issue 7458
    checkequal(
        -1, python.String("ab"), "find", python.String("xxx"), sys.maxsize + 1, 0
    )

    # For a variety of combinations,
    #    verify that str.find() matches __contains__
    #    and that the found substring is really at that location
    charset = [python.String(""), python.String("a"), python.String("b")]
    digits = 4
    base = len(charset)
    teststrings = set()
    for i in range(base ** digits):
        entry = []
        for j in range(digits):
            i, m = divmod(i, base)
            entry.append(charset[m])
        teststrings.add(python.String("").join(entry))
    for i in teststrings:
        for j in teststrings:
            loc = i.find(j)
            r1 = loc != -1
            r2 = j in i
            assert r1 == r2
            if loc != -1:
                idx = loc + len(j)
                assert i[loc:idx] == j


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag536')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 144-198
</a>
<div class="mid" id="frag536" style="display:none"><pre>
def test_rfind():
    checkequal(9, python.String("abcdefghiabc"), "rfind", python.String("abc"))
    checkequal(12, python.String("abcdefghiabc"), "rfind", "")
    checkequal(0, python.String("abcdefghiabc"), "rfind", python.String("abcd"))
    checkequal(-1, python.String("abcdefghiabc"), "rfind", python.String("abcz"))

    checkequal(3, python.String("abc"), "rfind", python.String(""), 0)
    checkequal(3, python.String("abc"), "rfind", python.String(""), 3)
    checkequal(-1, python.String("abc"), "rfind", python.String(""), 4)

    # to check the ability to pass None as defaults
    checkequal(12, python.String("rrarrrrrrrrra"), "rfind", python.String("a"))
    checkequal(12, python.String("rrarrrrrrrrra"), "rfind", python.String("a"), 4)
    checkequal(-1, python.String("rrarrrrrrrrra"), "rfind", python.String("a"), 4, 6)
    checkequal(12, python.String("rrarrrrrrrrra"), "rfind", python.String("a"), 4, None)
    checkequal(2, python.String("rrarrrrrrrrra"), "rfind", python.String("a"), None, 6)

    checkraises(TypeError, python.String("hello"), "rfind")

    if contains_bytes:
        checkequal(-1, python.String("hello"), "rfind", 42)
    else:
        checkraises(TypeError, python.String("hello"), "rfind", 42)

    # For a variety of combinations,
    #    verify that str.rfind() matches __contains__
    #    and that the found substring is really at that location
    charset = [python.String(""), python.String("a"), python.String("b")]
    digits = 3
    base = len(charset)
    teststrings = set()
    for i in range(base ** digits):
        entry = []
        for j in range(digits):
            i, m = divmod(i, base)
            entry.append(charset[m])
        teststrings.add(python.String("").join(entry))
    for i in teststrings:
        for j in teststrings:
            loc = i.rfind(j)
            r1 = loc != -1
            r2 = j in i
            assert r1 == r2
            if loc != -1:
                assert i[loc : loc + len(j)] == j  # noqa: E203

    # issue 7458
    checkequal(
        -1, python.String("ab"), "rfind", python.String("xxx"), sys.maxsize + 1, 0
    )

    # issue #15534
    checkequal(0, python.String("&lt;......\u043c..."), "rfind", "&lt;")


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 12:</b> &nbsp; 2 fragments, nominal size 142 lines, similarity 95%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag546')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 1916-2063
</a>
<div class="mid" id="frag546" style="display:none"><pre>
def test_additional_split():
    checkequal(
        [
            python.String("this"),
            python.String("is"),
            python.String("the"),
            "split",
            python.String("function"),
        ],
        python.String("this is the split function"),
        "split",
    )

    # by whitespace
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d "),
        "split",
    )
    checkequal(
        [python.String("a"), python.String("b c d")],
        python.String("a b c d"),
        "split",
        None,
        1,
    )
    checkequal(
        [python.String("a"), python.String("b"), python.String("c d")],
        python.String("a b c d"),
        "split",
        None,
        2,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "split",
        None,
        3,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "split",
        None,
        4,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "split",
        None,
        sys.maxsize - 1,
    )
    checkequal([python.String("a b c d")], python.String("a b c d"), "split", None, 0)
    checkequal([python.String("a b c d")], python.String("  a b c d"), "split", None, 0)
    checkequal(
        [python.String("a"), python.String("b"), python.String("c  d")],
        python.String("a  b  c  d"),
        "split",
        None,
        2,
    )

    checkequal([], python.String("         "), "split")
    checkequal([python.String("a")], python.String("  a    "), "split")
    checkequal(
        [python.String("a"), python.String("b")], python.String("  a    b   "), "split"
    )
    checkequal(
        [python.String("a"), python.String("b   ")],
        python.String("  a    b   "),
        "split",
        None,
        1,
    )
    checkequal(
        [python.String("a    b   c   ")],
        python.String("  a    b   c   "),
        "split",
        None,
        0,
    )
    checkequal(
        [python.String("a"), python.String("b   c   ")],
        python.String("  a    b   c   "),
        "split",
        None,
        1,
    )
    checkequal(
        [python.String("a"), python.String("b"), python.String("c   ")],
        python.String("  a    b   c   "),
        "split",
        None,
        2,
    )
    checkequal(
        [python.String("a"), python.String("b"), python.String("c")],
        python.String("  a    b   c   "),
        "split",
        None,
        3,
    )
    checkequal(
        [python.String("a"), python.String("b")],
        python.String("\n\ta \t\r b \v "),
        "split",
    )
    aaa = python.String(" a ") * 20
    checkequal([python.String("a")] * 20, aaa, "split")
    checkequal([python.String("a")] + [aaa[4:]], aaa, "split", None, 1)
    checkequal(
        [python.String("a")] * 19 + [python.String("a ")], aaa, "split", None, 19
    )

    for b in (
        python.String("arf\tbarf"),
        python.String("arf\nbarf"),
        python.String("arf\rbarf"),
        python.String("arf\fbarf"),
        python.String("arf\vbarf"),
    ):
        checkequal([python.String("arf"), python.String("barf")], b, "split")
        checkequal([python.String("arf"), python.String("barf")], b, "split", None)
        checkequal([python.String("arf"), python.String("barf")], b, "split", None, 2)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag547')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2064-2215
</a>
<div class="mid" id="frag547" style="display:none"><pre>
def test_additional_rsplit():
    checkequal(
        [
            python.String("this"),
            python.String("is"),
            python.String("the"),
            "rsplit",
            python.String("function"),
        ],
        python.String("this is the rsplit function"),
        "rsplit",
    )

    # by whitespace
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d "),
        "rsplit",
    )
    checkequal(
        [python.String("a b c"), python.String("d")],
        python.String("a b c d"),
        "rsplit",
        None,
        1,
    )
    checkequal(
        [python.String("a b"), python.String("c"), python.String("d")],
        python.String("a b c d"),
        "rsplit",
        None,
        2,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "rsplit",
        None,
        3,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "rsplit",
        None,
        4,
    )
    checkequal(
        [
            python.String("a"),
            python.String("b"),
            python.String("c"),
            python.String("d"),
        ],
        python.String("a b c d"),
        "rsplit",
        None,
        sys.maxsize - 20,
    )
    checkequal([python.String("a b c d")], python.String("a b c d"), "rsplit", None, 0)
    checkequal(
        [python.String("a b c d")], python.String("a b c d  "), "rsplit", None, 0
    )
    checkequal(
        [python.String("a  b"), python.String("c"), python.String("d")],
        python.String("a  b  c  d"),
        "rsplit",
        None,
        2,
    )

    checkequal([], python.String("         "), "rsplit")
    checkequal([python.String("a")], python.String("  a    "), "rsplit")
    checkequal(
        [python.String("a"), python.String("b")], python.String("  a    b   "), "rsplit"
    )
    checkequal(
        [python.String("  a"), python.String("b")],
        python.String("  a    b   "),
        "rsplit",
        None,
        1,
    )
    checkequal(
        [python.String("  a    b   c")],
        python.String("  a    b   c   "),
        "rsplit",
        None,
        0,
    )
    checkequal(
        [python.String("  a    b"), python.String("c")],
        python.String("  a    b   c   "),
        "rsplit",
        None,
        1,
    )
    checkequal(
        [python.String("  a"), python.String("b"), python.String("c")],
        python.String("  a    b   c   "),
        "rsplit",
        None,
        2,
    )
    checkequal(
        [python.String("a"), python.String("b"), python.String("c")],
        python.String("  a    b   c   "),
        "rsplit",
        None,
        3,
    )
    checkequal(
        [python.String("a"), python.String("b")],
        python.String("\n\ta \t\r b \v "),
        "rsplit",
        None,
        88,
    )
    aaa = python.String(" a ") * 20
    checkequal([python.String("a")] * 20, aaa, "rsplit")
    checkequal([aaa[:-4]] + [python.String("a")], aaa, "rsplit", None, 1)
    checkequal(
        [python.String(" a  a")] + [python.String("a")] * 18, aaa, "rsplit", None, 18
    )

    for b in (
        python.String("arf\tbarf"),
        python.String("arf\nbarf"),
        python.String("arf\rbarf"),
        python.String("arf\fbarf"),
        python.String("arf\vbarf"),
    ):
        checkequal([python.String("arf"), python.String("barf")], b, "rsplit")
        checkequal([python.String("arf"), python.String("barf")], b, "rsplit", None)
        checkequal([python.String("arf"), python.String("barf")], b, "rsplit", None, 2)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 13:</b> &nbsp; 2 fragments, nominal size 37 lines, similarity 73%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag549')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2234-2276
</a>
<div class="mid" id="frag549" style="display:none"><pre>
def test_strip():
    # strip/lstrip/rstrip with str arg
    checkequal(
        python.String("hello"),
        python.String("xyzzyhelloxyzzy"),
        "strip",
        python.String("xyz"),
    )
    checkequal(
        python.String("helloxyzzy"),
        python.String("xyzzyhelloxyzzy"),
        "lstrip",
        python.String("xyz"),
    )
    checkequal(
        python.String("xyzzyhello"),
        python.String("xyzzyhelloxyzzy"),
        "rstrip",
        python.String("xyz"),
    )
    checkequal(
        python.String("hello"), python.String("hello"), "strip", python.String("xyz")
    )
    checkequal(
        python.String(""),
        python.String("mississippi"),
        "strip",
        python.String("mississippi"),
    )

    # only trim the start and end; does not strip internal characters
    checkequal(
        python.String("mississipp"),
        python.String("mississippi"),
        "strip",
        python.String("i"),
    )

    checkraises(TypeError, python.String("hello"), "strip", 42, 42)
    checkraises(TypeError, python.String("hello"), "lstrip", 42, 42)
    checkraises(TypeError, python.String("hello"), "rstrip", 42, 42)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag565')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2580-2628
</a>
<div class="mid" id="frag565" style="display:none"><pre>
def test_capitalize_nonascii():
    # check that titlecased chars are lowered correctly
    # \u1ffc is the titlecased char
    # \u03a9\u0399
    if sys.version_info &gt;= (3, 8):
        # a, b, capitalize
        # ·øº·ø≥·ø≥·ø≥, ·ø≥·ø≥·øº·øº, capitalize
        checkequal(
            python.String("\u1ffc\u1ff3\u1ff3\u1ff3"),
            python.String("\u1ff3\u1ff3\u1ffc\u1ffc"),
            "capitalize",
        )
    else:
        # a, b, capitalize
        # Œ©Œô·ø≥·ø≥·ø≥, ·ø≥·ø≥·øº·øº, capitalize
        checkequal(
            python.String("\u03a9\u0399\u1ff3\u1ff3\u1ff3"),
            python.String("\u1ff3\u1ff3\u1ffc\u1ffc"),
            "capitalize",
        )
    # check with cased non-letter chars
    checkequal(
        python.String("\u24c5\u24e8\u24e3\u24d7\u24de\u24dd"),
        python.String("\u24c5\u24ce\u24c9\u24bd\u24c4\u24c3"),
        "capitalize",
    )
    checkequal(
        python.String("\u24c5\u24e8\u24e3\u24d7\u24de\u24dd"),
        python.String("\u24df\u24e8\u24e3\u24d7\u24de\u24dd"),
        "capitalize",
    )
    checkequal(
        python.String("\u2160\u2171\u2172"),
        python.String("\u2160\u2161\u2162"),
        "capitalize",
    )
    checkequal(
        python.String("\u2160\u2171\u2172"),
        python.String("\u2170\u2171\u2172"),
        "capitalize",
    )
    # check with Ll chars with no upper - nothing changes here
    checkequal(
        python.String("\u019b\u1d00\u1d86\u0221\u1fb7"),
        python.String("\u019b\u1d00\u1d86\u0221\u1fb7"),
        "capitalize",
    )


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 14:</b> &nbsp; 3 fragments, nominal size 13 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag550')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2277-2291
</a>
<div class="mid" id="frag550" style="display:none"><pre>
def test_ljust():
    checkequal(python.String("abc       "), python.String("abc"), "ljust", 10)
    checkequal(python.String("abc   "), python.String("abc"), "ljust", 6)
    checkequal(python.String("abc"), python.String("abc"), "ljust", 3)
    checkequal(python.String("abc"), python.String("abc"), "ljust", 2)
    checkequal(
        python.String("abc*******"),
        python.String("abc"),
        "ljust",
        10,
        python.String("*"),
    )
    checkraises(TypeError, python.String("abc"), "ljust")


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag551')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2292-2306
</a>
<div class="mid" id="frag551" style="display:none"><pre>
def test_rjust():
    checkequal(python.String("       abc"), python.String("abc"), "rjust", 10)
    checkequal(python.String("   abc"), python.String("abc"), "rjust", 6)
    checkequal(python.String("abc"), python.String("abc"), "rjust", 3)
    checkequal(python.String("abc"), python.String("abc"), "rjust", 2)
    checkequal(
        python.String("*******abc"),
        python.String("abc"),
        "rjust",
        10,
        python.String("*"),
    )
    checkraises(TypeError, python.String("abc"), "rjust")


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag552')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2307-2321
</a>
<div class="mid" id="frag552" style="display:none"><pre>
def test_center():
    checkequal(python.String("   abc    "), python.String("abc"), "center", 10)
    checkequal(python.String(" abc  "), python.String("abc"), "center", 6)
    checkequal(python.String("abc"), python.String("abc"), "center", 3)
    checkequal(python.String("abc"), python.String("abc"), "center", 2)
    checkequal(
        python.String("***abc****"),
        python.String("abc"),
        "center",
        10,
        python.String("*"),
    )
    checkraises(TypeError, python.String("abc"), "center")


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 15:</b> &nbsp; 3 fragments, nominal size 12 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag557')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2368-2382
</a>
<div class="mid" id="frag557" style="display:none"><pre>
def test_istitle():
    checkequal(False, python.String(""), "istitle")
    checkequal(False, python.String("a"), "istitle")
    checkequal(True, python.String("A"), "istitle")
    checkequal(False, python.String("\n"), "istitle")
    checkequal(True, python.String("A Titlecased Line"), "istitle")
    checkequal(True, python.String("A\nTitlecased Line"), "istitle")
    checkequal(True, python.String("A Titlecased, Line"), "istitle")
    checkequal(False, python.String("Not a capitalized String"), "istitle")
    checkequal(False, python.String("Not\ta Titlecase String"), "istitle")
    checkequal(False, python.String("Not--a Titlecase String"), "istitle")
    checkequal(False, python.String("NOT"), "istitle")
    checkraises(TypeError, python.String("abc"), "istitle", 42)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag560')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2406-2417
</a>
<div class="mid" id="frag560" style="display:none"><pre>
def test_isalnum():
    checkequal(False, python.String(""), "isalnum")
    checkequal(True, python.String("a"), "isalnum")
    checkequal(True, python.String("A"), "isalnum")
    checkequal(False, python.String("\n"), "isalnum")
    checkequal(True, python.String("123abc456"), "isalnum")
    checkequal(True, python.String("a1b3c"), "isalnum")
    checkequal(False, python.String("aBc000 "), "isalnum")
    checkequal(False, python.String("abc\n"), "isalnum")
    checkraises(TypeError, python.String("abc"), "isalnum", 42)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag558')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2383-2394
</a>
<div class="mid" id="frag558" style="display:none"><pre>
def test_isspace():
    checkequal(False, python.String(""), "isspace")
    checkequal(False, python.String("a"), "isspace")
    checkequal(True, python.String(" "), "isspace")
    checkequal(True, python.String("\t"), "isspace")
    checkequal(True, python.String("\r"), "isspace")
    checkequal(True, python.String("\n"), "isspace")
    checkequal(True, python.String(" \t\r\n"), "isspace")
    checkequal(False, python.String(" \t\r\na"), "isspace")
    checkraises(TypeError, python.String("abc"), "isspace", 42)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 16:</b> &nbsp; 2 fragments, nominal size 104 lines, similarity 70%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag566')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2629-2740
</a>
<div class="mid" id="frag566" style="display:none"><pre>
def test_startswith():
    checkequal(True, python.String("hello"), "startswith", python.String("he"))
    checkequal(True, python.String("hello"), "startswith", python.String("hello"))
    checkequal(
        False, python.String("hello"), "startswith", python.String("hello world")
    )
    checkequal(True, python.String("hello"), "startswith", python.String(""))
    checkequal(False, python.String("hello"), "startswith", python.String("ello"))
    checkequal(True, python.String("hello"), "startswith", python.String("ello"), 1)
    checkequal(True, python.String("hello"), "startswith", python.String("o"), 4)
    checkequal(False, python.String("hello"), "startswith", python.String("o"), 5)
    checkequal(True, python.String("hello"), "startswith", python.String(""), 5)
    checkequal(False, python.String("hello"), "startswith", python.String("lo"), 6)
    checkequal(
        True, python.String("helloworld"), "startswith", python.String("lowo"), 3
    )
    checkequal(
        True, python.String("helloworld"), "startswith", python.String("lowo"), 3, 7
    )
    checkequal(
        False, python.String("helloworld"), "startswith", python.String("lowo"), 3, 6
    )
    checkequal(True, python.String(""), "startswith", python.String(""), 0, 1)
    checkequal(True, python.String(""), "startswith", python.String(""), 0, 0)
    checkequal(False, python.String(""), "startswith", python.String(""), 1, 0)

    # test negative indices
    checkequal(True, python.String("hello"), "startswith", python.String("he"), 0, -1)
    checkequal(True, python.String("hello"), "startswith", python.String("he"), -53, -1)
    checkequal(
        False, python.String("hello"), "startswith", python.String("hello"), 0, -1
    )
    checkequal(
        False,
        python.String("hello"),
        "startswith",
        python.String("hello world"),
        -1,
        -10,
    )
    checkequal(False, python.String("hello"), "startswith", python.String("ello"), -5)
    checkequal(True, python.String("hello"), "startswith", python.String("ello"), -4)
    checkequal(False, python.String("hello"), "startswith", python.String("o"), -2)
    checkequal(True, python.String("hello"), "startswith", python.String("o"), -1)
    checkequal(True, python.String("hello"), "startswith", python.String(""), -3, -3)
    checkequal(False, python.String("hello"), "startswith", python.String("lo"), -9)

    checkraises(TypeError, python.String("hello"), "startswith")
    checkraises(TypeError, python.String("hello"), "startswith", 42)

    # test tuple arguments
    checkequal(
        True,
        python.String("hello"),
        "startswith",
        (python.String("he"), python.String("ha")),
    )
    checkequal(
        False,
        python.String("hello"),
        "startswith",
        (python.String("lo"), python.String("llo")),
    )
    checkequal(
        True,
        python.String("hello"),
        "startswith",
        (python.String("hellox"), python.String("hello")),
    )
    checkequal(False, python.String("hello"), "startswith", ())
    checkequal(
        True,
        python.String("helloworld"),
        "startswith",
        (python.String("hellowo"), python.String("rld"), python.String("lowo")),
        3,
    )
    checkequal(
        False,
        python.String("helloworld"),
        "startswith",
        (python.String("hellowo"), python.String("ello"), python.String("rld")),
        3,
    )
    checkequal(
        True,
        python.String("hello"),
        "startswith",
        (python.String("lo"), python.String("he")),
        0,
        -1,
    )
    checkequal(
        False,
        python.String("hello"),
        "startswith",
        (python.String("he"), python.String("hel")),
        0,
        1,
    )
    checkequal(
        True,
        python.String("hello"),
        "startswith",
        (python.String("he"), python.String("hel")),
        0,
        2,
    )

    checkraises(TypeError, python.String("hello"), "startswith", (42,))


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag567')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 2741-2874
</a>
<div class="mid" id="frag567" style="display:none"><pre>
def test_endswith():
    checkequal(True, python.String("hello"), "endswith", python.String("lo"))
    checkequal(False, python.String("hello"), "endswith", python.String("he"))
    checkequal(True, python.String("hello"), "endswith", python.String(""))
    checkequal(False, python.String("hello"), "endswith", python.String("hello world"))
    checkequal(False, python.String("helloworld"), "endswith", python.String("worl"))
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("worl"), 3, 9
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("world"), 3, 12
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), 1, 7
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), 2, 7
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), 3, 7
    )
    checkequal(
        False, python.String("helloworld"), "endswith", python.String("lowo"), 4, 7
    )
    checkequal(
        False, python.String("helloworld"), "endswith", python.String("lowo"), 3, 8
    )
    checkequal(False, python.String("ab"), "endswith", python.String("ab"), 0, 1)
    checkequal(False, python.String("ab"), "endswith", python.String("ab"), 0, 0)
    checkequal(True, python.String(""), "endswith", python.String(""), 0, 1)
    checkequal(True, python.String(""), "endswith", python.String(""), 0, 0)
    checkequal(False, python.String(""), "endswith", python.String(""), 1, 0)

    # test negative indices
    checkequal(True, python.String("hello"), "endswith", python.String("lo"), -2)
    checkequal(False, python.String("hello"), "endswith", python.String("he"), -2)
    checkequal(True, python.String("hello"), "endswith", python.String(""), -3, -3)
    checkequal(
        False, python.String("hello"), "endswith", python.String("hello world"), -10, -2
    )
    checkequal(
        False, python.String("helloworld"), "endswith", python.String("worl"), -6
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("worl"), -5, -1
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("worl"), -5, 9
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("world"), -7, 12
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), -99, -3
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), -8, -3
    )
    checkequal(
        True, python.String("helloworld"), "endswith", python.String("lowo"), -7, -3
    )
    checkequal(
        False, python.String("helloworld"), "endswith", python.String("lowo"), 3, -4
    )
    checkequal(
        False, python.String("helloworld"), "endswith", python.String("lowo"), -8, -2
    )

    checkraises(TypeError, python.String("hello"), "endswith")
    checkraises(TypeError, python.String("hello"), "endswith", 42)

    # test tuple arguments
    checkequal(
        False,
        python.String("hello"),
        "endswith",
        (python.String("he"), python.String("ha")),
    )
    checkequal(
        True,
        python.String("hello"),
        "endswith",
        (python.String("lo"), python.String("llo")),
    )
    checkequal(
        True,
        python.String("hello"),
        "endswith",
        (python.String("hellox"), python.String("hello")),
    )
    checkequal(False, python.String("hello"), "endswith", ())
    checkequal(
        True,
        python.String("helloworld"),
        "endswith",
        (python.String("hellowo"), python.String("rld"), python.String("lowo")),
        3,
    )
    checkequal(
        False,
        python.String("helloworld"),
        "endswith",
        (python.String("hellowo"), python.String("ello"), python.String("rld")),
        3,
        -1,
    )
    checkequal(
        True,
        python.String("hello"),
        "endswith",
        (python.String("hell"), python.String("ell")),
        0,
        -1,
    )
    checkequal(
        False,
        python.String("hello"),
        "endswith",
        (python.String("he"), python.String("hel")),
        0,
        1,
    )
    checkequal(
        True,
        python.String("hello"),
        "endswith",
        (python.String("he"), python.String("hell")),
        0,
        4,
    )

    checkraises(TypeError, python.String("hello"), "endswith", (42,))


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 17:</b> &nbsp; 2 fragments, nominal size 38 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag578')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 3187-3229
</a>
<div class="mid" id="frag578" style="display:none"><pre>
def test_partition():
    checkequal(
        (
            python.String("this is the par"),
            python.String("ti"),
            python.String("tion method"),
        ),
        python.String("this is the partition method"),
        "partition",
        python.String("ti"),
    )

    # from raymond's original specification
    S = python.String("http://www.python.org")
    checkequal(
        (python.String("http"), python.String("://"), python.String("www.python.org")),
        S,
        "partition",
        python.String("://"),
    )
    checkequal(
        (python.String("http://www.python.org"), python.String(""), python.String("")),
        S,
        "partition",
        python.String("?"),
    )
    checkequal(
        (python.String(""), python.String("http://"), python.String("www.python.org")),
        S,
        "partition",
        python.String("http://"),
    )
    checkequal(
        (python.String("http://www.python."), python.String("org"), python.String("")),
        S,
        "partition",
        python.String("org"),
    )

    checkraises(ValueError, S, "partition", python.String(""))
    checkraises(TypeError, S, "partition", None)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag579')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_utils_test.py: 3230-3272
</a>
<div class="mid" id="frag579" style="display:none"><pre>
def test_rpartition():
    checkequal(
        (
            python.String("this is the rparti"),
            python.String("ti"),
            python.String("on method"),
        ),
        python.String("this is the rpartition method"),
        "rpartition",
        python.String("ti"),
    )

    # from raymond's original specification
    S = python.String("http://www.python.org")
    checkequal(
        (python.String("http"), python.String("://"), python.String("www.python.org")),
        S,
        "rpartition",
        python.String("://"),
    )
    checkequal(
        (python.String(""), python.String(""), python.String("http://www.python.org")),
        S,
        "rpartition",
        python.String("?"),
    )
    checkequal(
        (python.String(""), python.String("http://"), python.String("www.python.org")),
        S,
        "rpartition",
        python.String("http://"),
    )
    checkequal(
        (python.String("http://www.python."), python.String("org"), python.String("")),
        S,
        "rpartition",
        python.String("org"),
    )

    checkraises(ValueError, S, "rpartition", python.String(""))
    checkraises(TypeError, S, "rpartition", None)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 18:</b> &nbsp; 2 fragments, nominal size 11 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag581')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_id_test.py: 8-23
</a>
<div class="mid" id="frag581" style="display:none"><pre>
def test_id_concat_python_type() -&gt; None:
    val = " 2020"

    result = STRING_SYFT + val

    assert result.id
    assert result.id != STRING_SYFT.id
    assert result == STRING_PYTHON + val

    result = val + STRING_SYFT

    assert result.id
    assert result.id != STRING_SYFT.id
    assert val + STRING_PYTHON == result


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag582')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/string/string_id_test.py: 24-39
</a>
<div class="mid" id="frag582" style="display:none"><pre>
def test_id_concat_syft_type() -&gt; None:
    val = String(" 2020")

    result = STRING_SYFT + val

    assert result.id
    assert result.id != STRING_SYFT.id
    assert val.id != result.id
    assert result == STRING_PYTHON + val

    result = val + STRING_SYFT

    assert result.id
    assert result.id != STRING_SYFT.id
    assert val.id != result.id
    assert val + STRING_PYTHON == result
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 19:</b> &nbsp; 2 fragments, nominal size 11 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag616')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/list/pointer_test.py: 120-135
</a>
<div class="mid" id="frag616" style="display:none"><pre>
def test_iterator(test_objects):
    py_obj, sy_obj, remote_sy_obj = mapping[test_objects]()

    py_iter = iter(py_obj)
    sy_iter = iter(sy_obj)
    rsy_iter = iter(remote_sy_obj)

    for i in range(len(py_obj)):
        py_elem = next(py_iter)
        sy_elem = next(sy_iter)
        rsy_elem = next(rsy_iter)

        assert py_elem == sy_elem
        assert sy_elem == rsy_elem.get()


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag617')" href="javascript:;">
PySyft-0.3.0/tests/syft/lib/python/list/pointer_test.py: 138-151
</a>
<div class="mid" id="frag617" style="display:none"><pre>
def test_reversed_iterator(test_objects):
    py_obj, sy_obj, remote_sy_obj = mapping[test_objects]()

    py_iter = reversed(py_obj)
    sy_iter = reversed(sy_obj)
    rsy_iter = reversed(remote_sy_obj)

    for i in range(len(py_obj)):
        py_elem = next(py_iter)
        sy_elem = next(sy_iter)
        rsy_elem = next(rsy_iter)

        assert py_elem == sy_elem
        assert sy_elem == rsy_elem.get()
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 20:</b> &nbsp; 2 fragments, nominal size 26 lines, similarity 96%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag673')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 33-66
</a>
<div class="mid" id="frag673" style="display:none"><pre>
def test_signaling_offer_message_serde() -&gt; None:
    bob_vm = sy.VirtualMachine(name="Bob")
    target = Address(name="Alice")

    target_id = secrets.token_hex(nbytes=16)
    host_id = secrets.token_hex(nbytes=16)

    msg = SignalingOfferMessage(
        address=target,
        payload="SDP",
        host_metadata=bob_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)

    msg_metadata = bob_vm.get_metadata_for_client()
    msg2_metadata = msg2.host_metadata

    assert msg.id == msg2.id
    assert msg.address == target
    assert msg.payload == msg2.payload
    assert msg2.payload == "SDP"
    assert msg2.host_peer == host_id
    assert msg2.target_peer == target_id
    assert msg == msg2

    assert msg_metadata.name == msg2_metadata.name
    assert msg_metadata.node == msg2_metadata.node
    assert msg_metadata.id == msg2_metadata.id


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag674')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 67-98
</a>
<div class="mid" id="frag674" style="display:none"><pre>
def test_signaling_answer_message_serde() -&gt; None:
    bob_vm = sy.VirtualMachine(name="Bob")
    target = Address(name="Alice")
    target_id = secrets.token_hex(nbytes=16)
    host_id = secrets.token_hex(nbytes=16)

    msg = SignalingAnswerMessage(
        address=target,
        payload="SDP",
        host_metadata=bob_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )
    msg_metadata = bob_vm.get_metadata_for_client()

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)
    msg2_metadata = msg2.host_metadata

    assert msg.id == msg2.id
    assert msg.address == target
    assert msg.payload == msg2.payload
    assert msg2.payload == "SDP"
    assert msg2.host_peer == host_id
    assert msg2.target_peer == target_id
    assert msg == msg2

    assert msg_metadata.name == msg2_metadata.name
    assert msg_metadata.node == msg2_metadata.node
    assert msg_metadata.id == msg2_metadata.id


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 21:</b> &nbsp; 2 fragments, nominal size 18 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag675')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 99-122
</a>
<div class="mid" id="frag675" style="display:none"><pre>
def test_signaling_answer_pull_request_message_serde() -&gt; None:
    bob_vm = sy.VirtualMachine(name="Bob")
    target = Address(name="Alice")

    target_id = secrets.token_hex(nbytes=16)
    host_id = secrets.token_hex(nbytes=16)

    msg = AnswerPullRequestMessage(
        address=target,
        target_peer=target_id,
        host_peer=host_id,
        reply_to=bob_vm.address,
    )

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)

    assert msg.id == msg2.id
    assert msg.address == target
    assert msg == msg2
    assert msg2.host_peer == host_id
    assert msg2.target_peer == target_id


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag676')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 123-146
</a>
<div class="mid" id="frag676" style="display:none"><pre>
def test_signaling_offer_pull_request_message_serde() -&gt; None:
    bob_vm = sy.VirtualMachine(name="Bob")
    target = Address(name="Alice")

    target_id = secrets.token_hex(nbytes=16)
    host_id = secrets.token_hex(nbytes=16)

    msg = OfferPullRequestMessage(
        address=target,
        target_peer=target_id,
        host_peer=host_id,
        reply_to=bob_vm.address,
    )

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)

    assert msg.id == msg2.id
    assert msg.address == target
    assert msg == msg2
    assert msg2.host_peer == host_id
    assert msg2.target_peer == target_id


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 22:</b> &nbsp; 4 fragments, nominal size 16 lines, similarity 70%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag677')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 147-171
</a>
<div class="mid" id="frag677" style="display:none"><pre>
def test_push_offer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    offer_msg = SignalingOfferMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=alice_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )
    om_network_client.send_immediate_msg_without_reply(msg=offer_msg)

    assert (
        om_network.signaling_msgs[target_id][SyftMessage].pop(offer_msg.id) == offer_msg
    )


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag678')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 172-196
</a>
<div class="mid" id="frag678" style="display:none"><pre>
def test_push_answer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    offer_msg = SignalingAnswerMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=alice_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )
    om_network_client.send_immediate_msg_without_reply(msg=offer_msg)

    assert (
        om_network.signaling_msgs[target_id][SyftMessage].pop(offer_msg.id) == offer_msg
    )


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag683')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 342-364
</a>
<div class="mid" id="frag683" style="display:none"><pre>
def test_not_found_pull_offer_requests_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    offer_pull_req = OfferPullRequestMessage(
        address=om_network.address,
        target_peer=target_id,
        host_peer=host_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=offer_pull_req)

    assert isinstance(response, SignalingRequestsNotFound)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag684')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 365-385
</a>
<div class="mid" id="frag684" style="display:none"><pre>
def test_not_found_pull_ans_requests_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    ans_pull_req = AnswerPullRequestMessage(
        address=om_network.address,
        target_peer=target_id,
        host_peer=host_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=ans_pull_req)

    assert isinstance(response, SignalingRequestsNotFound)
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 23:</b> &nbsp; 4 fragments, nominal size 25 lines, similarity 80%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag679')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 197-232
</a>
<div class="mid" id="frag679" style="display:none"><pre>
def test_pull_offer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    offer_msg = SignalingOfferMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=alice_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )
    om_network_client.send_immediate_msg_without_reply(msg=offer_msg)

    assert (
        om_network.signaling_msgs[target_id][SyftMessage].get(offer_msg.id) == offer_msg
    )

    offer_pull_req = OfferPullRequestMessage(
        address=om_network.address,
        target_peer=host_id,
        host_peer=target_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=offer_pull_req)

    assert response == offer_msg


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag682')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 306-341
</a>
<div class="mid" id="frag682" style="display:none"><pre>
def test_loopback_answer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    metadata = alice_vm.get_metadata_for_client()
    answer_msg = SignalingAnswerMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=metadata,
        target_peer=host_id,
        host_peer=host_id,
    )
    om_network_client.send_immediate_msg_without_reply(msg=answer_msg)

    # Do not enqueue loopback requests
    assert len(om_network.signaling_msgs[host_id][SyftMessage]) == 0

    ans_pull_req = AnswerPullRequestMessage(
        address=om_network.address,
        target_peer=host_id,
        host_peer=host_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=ans_pull_req)

    # Return InvalidLoopBackMessage
    assert isinstance(response, InvalidLoopBackRequest)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag681')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 270-305
</a>
<div class="mid" id="frag681" style="display:none"><pre>
def test_loopback_offer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    offer_msg = SignalingOfferMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=alice_vm.get_metadata_for_client(),
        target_peer=host_id,
        host_peer=host_id,
    )

    om_network_client.send_immediate_msg_without_reply(msg=offer_msg)

    # Do not enqueue loopback requests
    assert len(om_network.signaling_msgs[host_id][SyftMessage]) == 0

    offer_pull_req = OfferPullRequestMessage(
        address=om_network.address,
        target_peer=host_id,
        host_peer=host_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=offer_pull_req)

    # Return InvalidLoopBack Message
    assert isinstance(response, InvalidLoopBackRequest)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag680')" href="javascript:;">
PySyft-0.3.0/tests/syft/grid/services/signaling_service_test.py: 233-269
</a>
<div class="mid" id="frag680" style="display:none"><pre>
def test_pull_answer_signaling_service() -&gt; None:
    om_network, bob_vm, alice_vm = get_preset_nodes()
    om_network_client = om_network.get_root_client()

    msg = RegisterNewPeerMessage(
        address=om_network.address, reply_to=om_network_client.address
    )

    target_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id
    host_id = om_network_client.send_immediate_msg_with_reply(msg=msg).peer_id

    answer_msg = SignalingAnswerMessage(
        address=om_network.address,
        payload="SDP",
        host_metadata=alice_vm.get_metadata_for_client(),
        target_peer=target_id,
        host_peer=host_id,
    )
    om_network_client.send_immediate_msg_without_reply(msg=answer_msg)

    assert (
        om_network.signaling_msgs[target_id][SyftMessage].get(answer_msg.id)
        == answer_msg
    )

    ans_pull_req = AnswerPullRequestMessage(
        address=om_network.address,
        target_peer=host_id,
        host_peer=target_id,
        reply_to=om_network_client.address,
    )

    response = om_network_client.send_immediate_msg_with_reply(msg=ans_pull_req)

    assert response == answer_msg


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 24:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag701')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/io/address_test.py: 140-161
</a>
<div class="mid" id="frag701" style="display:none"><pre>
def test_to_string() -&gt; None:
    """Tests that SpecificLocation generates an intuitive string."""

    an_id = UID(value=uuid.UUID(int=333779996850170035686993356951732753684))

    obj = Address(
        network=SpecificLocation(id=an_id),
        domain=SpecificLocation(id=an_id),
        device=SpecificLocation(id=an_id),
        vm=SpecificLocation(id=an_id),
    )

    str_out = (
        "&lt;Address - Network:&lt;SpecificLocation:..a1514&gt;, Domain:&lt;Specific"
        "Location:..a1514&gt;  Device:&lt;SpecificLocation:..a1514&gt;, VM:&lt;Specific"
        "Location:..a1514&gt;"
    )

    assert str(obj) == str_out
    assert obj.__repr__() == str_out


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag702')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/io/address_test.py: 165-182
</a>
<div class="mid" id="frag702" style="display:none"><pre>
def test_default_serialization_and_deserialization() -&gt; None:
    """Tests that default Address serde works as expected - to Protobuf"""

    an_id = UID(value=uuid.UUID(int=333779996850170035686993356951732753684))

    obj = Address(
        network=SpecificLocation(id=an_id),
        domain=SpecificLocation(id=an_id),
        device=SpecificLocation(id=an_id),
        vm=SpecificLocation(id=an_id),
    )

    blob = obj.to_proto()

    assert obj.serialize() == blob
    assert obj == sy.deserialize(blob=blob)


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 25:</b> &nbsp; 2 fragments, nominal size 23 lines, similarity 79%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag704')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/io/address_test.py: 227-256
</a>
<div class="mid" id="frag704" style="display:none"><pre>
def test_proto_serialization() -&gt; None:
    """Tests that default Address serialization works as expected - to Protobuf"""

    uid = UID(value=uuid.UUID(int=333779996850170035686993356951732753684))
    loc = SpecificLocation(id=uid, name="Test Location")
    obj = Address(
        name="Test Address",
        network=loc,
        domain=loc,
        device=loc,
        vm=loc,
    )

    blob = Address.get_protobuf_schema()(
        name="Test Address",
        has_network=True,
        has_domain=True,
        has_device=True,
        has_vm=True,
        network=loc.serialize(),
        domain=loc.serialize(),
        device=loc.serialize(),
        vm=loc.serialize(),
    )

    assert obj.proto() == blob
    assert obj.to_proto() == blob
    assert obj.serialize(to_proto=True) == blob


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag705')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/io/address_test.py: 257-282
</a>
<div class="mid" id="frag705" style="display:none"><pre>
def test_proto_deserialization() -&gt; None:
    """Tests that default Address deserialization works as expected - from Protobuf"""

    uid = UID(value=uuid.UUID(int=333779996850170035686993356951732753684))
    loc = SpecificLocation(id=uid, name="Test Location")

    obj = Address(
        network=loc,
        domain=loc,
        device=loc,
        vm=loc,
    )

    blob = Address.get_protobuf_schema()(
        has_network=True,
        has_domain=True,
        has_device=True,
        has_vm=True,
        network=loc.serialize(),
        domain=loc.serialize(),
        device=loc.serialize(),
        vm=loc.serialize(),
    )

    obj2 = sy.deserialize(blob=blob, from_proto=True)
    assert obj == obj2
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 26:</b> &nbsp; 2 fragments, nominal size 10 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag754')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/store/memory_storage_test.py: 49-63
</a>
<div class="mid" id="frag754" style="display:none"><pre>
def test_set_item() -&gt; None:
    """Tests that __setitem__ and __getitem__ work intuitively."""

    store = MemoryStore()
    id1, obj1 = generate_id_obj(
        data=th.Tensor([1, 2, 3, 4]),
        description="Dummy tensor",
        tags=["dummy", "tensor"],
    )

    store[id1] = obj1
    assert id1 in store
    assert len(store) == 1


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag755')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/store/memory_storage_test.py: 64-78
</a>
<div class="mid" id="frag755" style="display:none"><pre>
def test_store_item() -&gt; None:
    """Tests that store() works as an alternative to __setitem__."""

    store = MemoryStore()
    id1, obj1 = generate_id_obj(
        data=th.Tensor([1, 2, 3, 4]),
        description="Dummy tensor",
        tags=["dummy", "tensor"],
    )

    store[id1] = obj1
    assert id1 in store
    assert len(store) == 1


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 27:</b> &nbsp; 2 fragments, nominal size 17 lines, similarity 82%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag757')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/store/memory_storage_test.py: 107-128
</a>
<div class="mid" id="frag757" style="display:none"><pre>
def test_keys_values() -&gt; None:
    """Tests that keys() and values() work intuitively and offer MemoryStore
    a dict-like usage."""

    store = MemoryStore()
    id1, obj1 = generate_id_obj(
        data=th.Tensor([1, 2, 3, 4]),
        description="Dummy tensor",
        tags=["dummy", "tensor"],
    )
    id2, obj2 = generate_id_obj(
        data=th.Tensor([1, 2, 3]),
        description="Another dummy tensor",
        tags=["another", "dummy", "tensor"],
    )

    store[id1] = obj1
    store[id2] = obj2
    assert list(store.keys()) == [id1, id2]
    assert list(store.values()) == [obj1, obj2]


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag758')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/store/memory_storage_test.py: 129-152
</a>
<div class="mid" id="frag758" style="display:none"><pre>
def test_clear_len() -&gt; None:
    """Tests that clear() empties the MemoryStore and len() returns the
    number of stored objects."""

    store = MemoryStore()
    id1, obj1 = generate_id_obj(
        data=th.Tensor([1, 2, 3, 4]),
        description="Dummy tensor",
        tags=["dummy", "tensor"],
    )
    id2, obj2 = generate_id_obj(
        data=th.Tensor([1, 2, 3]),
        description="Another dummy tensor",
        tags=["another", "dummy", "tensor"],
    )

    store[id1] = obj1
    store[id2] = obj2

    assert len(store) == 2
    store.clear()
    assert len(store) == 0


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 28:</b> &nbsp; 3 fragments, nominal size 16 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag762')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/domain_test.py: 27-55
</a>
<div class="mid" id="frag762" style="display:none"><pre>
def test_domain_request_pending() -&gt; None:
    domain_1 = Domain(name="remote domain")
    tensor = th.tensor([1, 2, 3])

    domain_1_client = domain_1.get_root_client()
    data_ptr_domain_1 = tensor.send(domain_1_client)

    domain_2 = Domain(name="my domain")

    data_ptr_domain_1.request(
        name="My Request",
        reason="I'd lke to see this pointer",
    )

    requested_object = data_ptr_domain_1.id_at_location

    # make request
    message_request_id = domain_1_client.requests.get_request_id_from_object_id(
        object_id=requested_object
    )

    # check status
    response = data_ptr_domain_1.check_access(
        node=domain_2, request_id=message_request_id
    )

    assert RequestStatus.Pending == response


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag763')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/domain_test.py: 57-86
</a>
<div class="mid" id="frag763" style="display:none"><pre>
def test_domain_request_denied() -&gt; None:
    domain_1 = Domain(name="remote domain")
    tensor = th.tensor([1, 2, 3])

    domain_1_client = domain_1.get_root_client()
    data_ptr_domain_1 = tensor.send(domain_1_client)

    domain_2 = Domain(name="my domain")

    data_ptr_domain_1.request(name="My Request", reason="I'd lke to see this pointer")

    requested_object = data_ptr_domain_1.id_at_location

    # make request
    message_request_id = domain_1_client.requests.get_request_id_from_object_id(
        object_id=requested_object
    )

    # domain 1 client rejects request
    domain_1.requests[0].owner_client_if_available = domain_1_client
    domain_1.requests[0].deny()

    # check status
    response = data_ptr_domain_1.check_access(
        node=domain_2, request_id=message_request_id
    )

    assert RequestStatus.Rejected == response


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag764')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/domain_test.py: 88-114
</a>
<div class="mid" id="frag764" style="display:none"><pre>
def test_domain_request_accepted() -&gt; None:
    domain_1 = Domain(name="remote domain")
    tensor = th.tensor([1, 2, 3])

    domain_1_client = domain_1.get_root_client()
    data_ptr_domain_1 = tensor.send(domain_1_client)

    domain_2 = Domain(name="my domain")

    data_ptr_domain_1.request(name="My Request", reason="I'd lke to see this pointer")

    requested_object = data_ptr_domain_1.id_at_location

    message_request_id = domain_1_client.requests.get_request_id_from_object_id(
        object_id=requested_object
    )

    domain_1.requests[0].owner_client_if_available = domain_1_client
    domain_1.requests[0].accept()

    response = data_ptr_domain_1.check_access(
        node=domain_2, request_id=message_request_id
    )

    assert RequestStatus.Accepted == response


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 29:</b> &nbsp; 2 fragments, nominal size 17 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag769')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/service/request_message_test.py: 54-75
</a>
<div class="mid" id="frag769" style="display:none"><pre>
def test_accept(method_name: str) -&gt; None:
    node = Domain(name="remote domain")
    node_client = node.get_root_client()

    addr = Address()
    request = RequestMessage(
        object_id=UID(),
        address=addr,
        requester_verify_key=get_verify_key(),
        owner_address=addr,
        owner_client_if_available=node_client,
    )

    with patch.object(
        request.owner_client_if_available, "send_immediate_msg_without_reply"
    ) as mock_send_msg:
        getattr(request, method_name)()
        assert mock_send_msg.call_args[1]["msg"].address == node_client.address
        assert mock_send_msg.call_args[1]["msg"].accept is True
        assert mock_send_msg.call_args[1]["msg"].request_id == request.id


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag770')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/service/request_message_test.py: 78-99
</a>
<div class="mid" id="frag770" style="display:none"><pre>
def test_deny(method_name: str) -&gt; None:
    node = Domain(name="remote domain")
    node_client = node.get_root_client()

    addr = Address()
    request = RequestMessage(
        object_id=UID(),
        address=addr,
        requester_verify_key=get_verify_key(),
        owner_address=addr,
        owner_client_if_available=node_client,
    )

    with patch.object(
        request.owner_client_if_available, "send_immediate_msg_without_reply"
    ) as mock_send_msg:
        getattr(request, method_name)()
        assert mock_send_msg.call_args[1]["msg"].address == node_client.address
        assert mock_send_msg.call_args[1]["msg"].accept is False
        assert mock_send_msg.call_args[1]["msg"].request_id == request.id


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 30:</b> &nbsp; 3 fragments, nominal size 10 lines, similarity 100%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag771')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/service/request_message_test.py: 100-112
</a>
<div class="mid" id="frag771" style="display:none"><pre>
def test_fail_accept_request_message() -&gt; None:
    addr = Address()
    request = RequestMessage(
        object_id=UID(),
        address=addr,
        requester_verify_key=get_verify_key(),
        owner_address=addr,
    )

    with raises(Exception, match="No way to dispatch Accept Message."):
        request.accept()


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag773')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/service/request_message_test.py: 126-136
</a>
<div class="mid" id="frag773" style="display:none"><pre>
def test_fail_process_request_service() -&gt; None:
    addr = Address()
    request = RequestMessage(
        object_id=UID(),
        address=addr,
        requester_verify_key=get_verify_key(),
        owner_address=addr,
    )

    with raises(Exception, match="No way to dispatch Deny Message."):
        request.deny()
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag772')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/domain/service/request_message_test.py: 113-125
</a>
<div class="mid" id="frag772" style="display:none"><pre>
def test_fail_deny_request_message() -&gt; None:
    addr = Address()
    request = RequestMessage(
        object_id=UID(),
        address=addr,
        requester_verify_key=get_verify_key(),
        owner_address=addr,
    )

    with raises(Exception, match="No way to dispatch Deny Message."):
        request.deny()


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 31:</b> &nbsp; 2 fragments, nominal size 12 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag782')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/node_test.py: 68-84
</a>
<div class="mid" id="frag782" style="display:none"><pre>
def test_register_vm_on_device_succeeds() -&gt; None:
    # Register a üç∞ with a üì±

    bob_vm = sy.VirtualMachine(name="Bob")
    bob_vm_client = bob_vm.get_client()
    bob_vm.root_verify_key = bob_vm_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()
    bob_phone.root_verify_key = bob_phone_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone_client.register(client=bob_vm_client)

    assert bob_vm.device is not None
    assert bob_vm_client.device is not None


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag784')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/node_test.py: 109-133
</a>
<div class="mid" id="frag784" style="display:none"><pre>
def test_send_message_from_device_client_to_vm() -&gt; None:
    # Register a üç∞ with a üì±
    # Send ‚úâÔ∏è from üì± ‚û°Ô∏è üç∞

    bob_vm = sy.VirtualMachine(name="Bob")
    bob_vm_client = bob_vm.get_client()
    bob_vm.root_verify_key = bob_vm_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()
    bob_phone.root_verify_key = bob_phone_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone_client.register(client=bob_vm_client)

    assert bob_vm.device is not None
    assert bob_vm_client.device is not None

    # switch keys
    bob_vm.root_verify_key = bob_phone_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone_client.send_immediate_msg_without_reply(
        msg=sy.ReprMessage(address=bob_vm_client.address)
    )


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 32:</b> &nbsp; 2 fragments, nominal size 22 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag785')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/node_test.py: 135-168
</a>
<div class="mid" id="frag785" style="display:none"><pre>
def test_send_message_from_domain_client_to_vm() -&gt; None:
    # Register a üç∞ with a üì±
    # Register a üì± with a üè∞
    # Send ‚úâÔ∏è from üè∞ ‚û°Ô∏è üç∞

    bob_vm = sy.VirtualMachine(name="Bob")
    bob_vm_client = bob_vm.get_client()
    bob_vm.root_verify_key = bob_vm_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()
    bob_phone.root_verify_key = bob_phone_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone_client.register(client=bob_vm_client)

    assert bob_vm.device is not None
    assert bob_vm_client.device is not None

    bob_domain = sy.Domain(name="Bob's Domain")
    bob_domain_client = bob_domain.get_client()
    bob_domain.root_verify_key = bob_domain_client.verify_key  # inject üì°üîë as üìçüóù

    # switch keys
    bob_vm.root_verify_key = bob_domain_client.verify_key  # inject üì°üîë as üìçüóù
    bob_domain_client.register(client=bob_phone_client)

    assert bob_phone.domain is not None
    assert bob_phone_client.domain is not None

    bob_domain_client.send_immediate_msg_without_reply(
        msg=sy.ReprMessage(address=bob_vm.address)
    )


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag786')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/node_test.py: 170-211
</a>
<div class="mid" id="frag786" style="display:none"><pre>
def test_send_message_from_network_client_to_vm() -&gt; None:
    # Register a üç∞ with a üì±
    # Register a üì± with a üè∞
    # Register a üè∞ with a üîó
    # Send ‚úâÔ∏è from üîó ‚û°Ô∏è üç∞

    bob_vm = sy.VirtualMachine(name="Bob")
    bob_vm_client = bob_vm.get_client()
    bob_vm.root_verify_key = bob_vm_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()
    bob_phone.root_verify_key = bob_phone_client.verify_key  # inject üì°üîë as üìçüóù

    bob_phone_client.register(client=bob_vm_client)

    assert bob_vm.device is not None
    assert bob_vm_client.device is not None

    bob_domain = sy.Domain(name="Bob's Domain")
    bob_domain_client = bob_domain.get_client()
    bob_domain.root_verify_key = bob_domain_client.verify_key  # inject üì°üîë as üìçüóù

    bob_domain_client.register(client=bob_phone_client)

    assert bob_phone.domain is not None
    assert bob_phone_client.domain is not None

    bob_network = sy.Network(name="Bob's Network")
    bob_network_client = bob_network.get_client()
    bob_network.root_verify_key = bob_network_client.verify_key  # inject üì°üîë as üìçüóù

    # switch keys
    bob_vm.root_verify_key = bob_network_client.verify_key  # inject üì°üîë as üìçüóù
    bob_network_client.register(client=bob_domain_client)

    assert bob_domain.network is not None
    assert bob_domain_client.network is not None

    bob_network_client.send_immediate_msg_without_reply(
        msg=sy.ReprMessage(address=bob_vm.address)
    )
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 33:</b> &nbsp; 2 fragments, nominal size 17 lines, similarity 76%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag791')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/child_node_lifecycle_service_test.py: 8-29
</a>
<div class="mid" id="frag791" style="display:none"><pre>
def test_child_node_lifecycle_message_serde() -&gt; None:
    bob_vm = sy.VirtualMachine(name="Bob")
    bob_vm_client = bob_vm.get_client()

    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()

    # bob_phone_client.register(client=bob_vm_client)
    # generates this message
    msg = RegisterChildNodeMessage(
        lookup_id=bob_vm_client.id,  # TODO: not sure if this is needed anymore
        child_node_client_address=bob_vm_client.address,
        address=bob_phone_client.address,
    )

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)

    assert msg.id == msg2.id
    assert msg.address == msg2.address
    assert msg.child_node_client_address == msg2.child_node_client_address
    assert msg == msg2
</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag800')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/obj_search_permission_service_test.py: 14-36
</a>
<div class="mid" id="frag800" style="display:none"><pre>
def test_object_search_permissons_update_message_serde() -&gt; None:
    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()

    ptr = th.tensor([1, 2, 3]).send(bob_phone_client)

    msg = ObjectSearchPermissionUpdateMessage(
        add_instead_of_remove=True,
        target_verify_key=bob_phone_client.verify_key,
        target_object_id=ptr.id_at_location,
        address=bob_phone_client.address,
    )

    blob = msg.serialize()
    msg2 = sy.deserialize(blob=blob)

    assert msg.id == msg2.id
    assert msg.address == msg2.address
    assert msg.add_instead_of_remove == msg2.add_instead_of_remove
    assert msg.target_verify_key == msg2.target_verify_key
    assert msg.target_object_id == msg2.target_object_id


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 34:</b> &nbsp; 4 fragments, nominal size 11 lines, similarity 75%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag792')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/auth_test.py: 12-31
</a>
<div class="mid" id="frag792" style="display:none"><pre>
def test_service_auth_root_fails() -&gt; None:
    node = sy.Device()
    msg = sy.ReprMessage(address=node.address)

    random_signing_key = SigningKey.generate()
    random_verify_key = random_signing_key.verify_key

    # root_only
    @service_auth(root_only=True)
    def process(node: sy.Device, msg: sy.ReprMessage, verify_key: VerifyKey) -&gt; None:
        pass

    process(node=node, msg=msg, verify_key=node.root_verify_key)

    with pytest.raises(
        AuthorizationException, match="You are not Authorized to access this service"
    ):
        process(node=node, msg=msg, verify_key=random_verify_key)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag796')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/auth_test.py: 51-66
</a>
<div class="mid" id="frag796" style="display:none"><pre>
def test_service_auth_guests_fails() -&gt; None:
    node = sy.Device()
    msg = sy.ReprMessage(address=node.address)
    new_signing_key = SigningKey.generate()
    new_verify_key = new_signing_key.verify_key

    # guests_welcome
    @service_auth(guests_welcome=True)
    def process(node: sy.Device, msg: sy.ReprMessage, verify_key: VerifyKey) -&gt; None:
        pass

    process(node=node, msg=msg, verify_key=new_verify_key)

    assert new_verify_key not in node.guest_verify_key_registry


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag794')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/auth_test.py: 32-50
</a>
<div class="mid" id="frag794" style="display:none"><pre>
def test_service_auth_existing_user() -&gt; None:
    node = sy.Device()
    msg = sy.ReprMessage(address=node.address)
    random_signing_key = SigningKey.generate()
    random_verify_key = random_signing_key.verify_key

    # existing_users_only
    @service_auth(existing_users_only=True)
    def process(node: sy.Device, msg: sy.ReprMessage, verify_key: VerifyKey) -&gt; None:
        pass

    with pytest.raises(AuthorizationException, match="User not known."):
        process(node=node, msg=msg, verify_key=random_verify_key)

    # NOTE didn't find a method to add a key to guest_verify_key_registry
    node.guest_verify_key_registry.add(random_verify_key)
    process(node=node, msg=msg, verify_key=random_verify_key)


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag798')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/auth_test.py: 67-80
</a>
<div class="mid" id="frag798" style="display:none"><pre>
def test_service_auth_guests_succeeds() -&gt; None:
    node = sy.Device()
    msg = sy.ReprMessage(address=node.address)
    new_signing_key = SigningKey.generate()
    new_verify_key = new_signing_key.verify_key

    # register_new_guests
    @service_auth(guests_welcome=True, register_new_guests=True)
    def process(node: sy.Device, msg: sy.ReprMessage, verify_key: VerifyKey) -&gt; None:
        pass

    process(node=node, msg=msg, verify_key=new_verify_key)

    assert new_verify_key in node.guest_verify_key_registry
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 35:</b> &nbsp; 2 fragments, nominal size 16 lines, similarity 81%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag801')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/obj_search_permission_service_test.py: 37-59
</a>
<div class="mid" id="frag801" style="display:none"><pre>
def test_object_search_permissons_update_execute_add() -&gt; None:
    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()

    ptr = th.tensor([1, 2, 3]).send(bob_phone_client)

    msg = ObjectSearchPermissionUpdateMessage(
        add_instead_of_remove=True,
        target_verify_key=bob_phone_client.verify_key,
        target_object_id=ptr.id_at_location,
        address=bob_phone_client.address,
    )

    ImmediateObjectSearchPermissionUpdateService.process(
        node=bob_phone, msg=msg, verify_key=bob_phone.verify_key
    )

    assert (
        bob_phone.store[ptr.id_at_location].search_permissions[bob_phone.verify_key]
        == msg.id
    )


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag802')" href="javascript:;">
PySyft-0.3.0/tests/syft/core/node/common/service/obj_search_permission_service_test.py: 60-82
</a>
<div class="mid" id="frag802" style="display:none"><pre>
def test_object_search_permissons_update_execute_remove() -&gt; None:
    bob_phone = sy.Device(name="Bob's iPhone")
    bob_phone_client = bob_phone.get_client()

    ptr = th.tensor([1, 2, 3]).send(bob_phone_client)

    msg = ObjectSearchPermissionUpdateMessage(
        add_instead_of_remove=False,
        target_verify_key=bob_phone_client.verify_key,
        target_object_id=ptr.id_at_location,
        address=bob_phone_client.address,
    )

    bob_phone.store[ptr.id_at_location].search_permissions[bob_phone.verify_key] = None

    ImmediateObjectSearchPermissionUpdateService.process(
        node=bob_phone, msg=msg, verify_key=bob_phone.verify_key
    )

    assert (
        bob_phone.verify_key
        not in bob_phone.store[ptr.id_at_location].search_permissions
    )
</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 36:</b> &nbsp; 2 fragments, nominal size 19 lines, similarity 71%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag877')" href="javascript:;">
PySyft-0.3.0/examples/duet/reinforcement_learning/original/reinforce.py: 73-91
</a>
<div class="mid" id="frag877" style="display:none"><pre>
def finish_episode():
    R = 0
    policy_loss = []
    returns = []
    for r in policy.rewards[::-1]:
        R = r + args.gamma * R
        returns.insert(0, R)
    returns = torch.tensor(returns)
    returns = (returns - returns.mean()) / (returns.std() + eps)
    for log_prob, R in zip(policy.saved_log_probs, returns):
        policy_loss.append(-log_prob * R)
    optimizer.zero_grad()
    policy_loss = torch.cat(policy_loss).sum()
    policy_loss.backward()
    optimizer.step()
    del policy.rewards[:]
    del policy.saved_log_probs[:]


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag882')" href="javascript:;">
PySyft-0.3.0/examples/duet/reinforcement_learning/original/actor_critic.py: 107-149
</a>
<div class="mid" id="frag882" style="display:none"><pre>
def finish_episode():
    """
    Training code. Calculates actor and critic loss and performs backprop.
    """
    R = 0
    saved_actions = model.saved_actions
    policy_losses = []  # list to save actor (policy) loss
    value_losses = []  # list to save critic (value) loss
    returns = []  # list to save the true values

    # calculate the true value using rewards returned from the environment
    for r in model.rewards[::-1]:
        # calculate the discounted value
        R = r + args.gamma * R
        returns.insert(0, R)

    returns = torch.tensor(returns)
    returns = (returns - returns.mean()) / (returns.std() + eps)

    for (log_prob, value), R in zip(saved_actions, returns):
        advantage = R - value.item()

        # calculate actor (policy) loss
        policy_losses.append(-log_prob * advantage)

        # calculate critic (value) loss using L1 smooth loss
        value_losses.append(F.smooth_l1_loss(value, torch.tensor([R])))

    # reset gradients
    optimizer.zero_grad()

    # sum up all the values of policy_losses and value_losses
    loss = torch.stack(policy_losses).sum() + torch.stack(value_losses).sum()

    # perform backprop
    loss.backward()
    optimizer.step()

    # reset rewards and action buffer
    del model.rewards[:]
    del model.saved_actions[:]


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<br>
<table style="width:1000px; border:2px solid lightgrey; border-radius:8px;">
<tr><td style="background-color:white">
<p style="font-size:14pt"><b>Class 37:</b> &nbsp; 2 fragments, nominal size 24 lines, similarity 91%</p>
<table cellpadding=4 border=2>
<tr>
<td width="auto">
<a onclick="javascript:ShowHide('frag878')" href="javascript:;">
PySyft-0.3.0/examples/duet/reinforcement_learning/original/reinforce.py: 92-121
</a>
<div class="mid" id="frag878" style="display:none"><pre>
def main():
    running_reward = 10
    for i_episode in count(1):
        state, ep_reward = env.reset(), 0
        for t in range(1, 10000):  # Don't infinite loop while learning
            action = select_action(state)
            state, reward, done, _ = env.step(action)
            if args.render:
                env.render()
            policy.rewards.append(reward)
            ep_reward += reward
            if done:
                break

        running_reward = 0.05 * ep_reward + (1 - 0.05) * running_reward
        finish_episode()
        if i_episode % args.log_interval == 0:
            print(
                "Episode {}\tLast reward: {:.2f}\tAverage reward: {:.2f}".format(
                    i_episode, ep_reward, running_reward
                )
            )
        if running_reward &gt; env.spec.reward_threshold:
            print(
                "Solved! Running reward is now {} and "
                "the last episode runs to {} time steps!".format(running_reward, t)
            )
            break


</pre></div>
</td>
<td width="auto">
<a onclick="javascript:ShowHide('frag883')" href="javascript:;">
PySyft-0.3.0/examples/duet/reinforcement_learning/original/actor_critic.py: 150-200
</a>
<div class="mid" id="frag883" style="display:none"><pre>
def main():
    running_reward = 10

    # run inifinitely many episodes
    for i_episode in count(1):

        # reset environment and episode reward
        state = env.reset()
        ep_reward = 0

        # for each episode, only run 9999 steps so that we don't
        # infinite loop while learning
        for t in range(1, 10000):

            # select action from policy
            action = select_action(state)

            # take the action
            state, reward, done, _ = env.step(action)

            if args.render:
                env.render()

            model.rewards.append(reward)
            ep_reward += reward
            if done:
                break

        # update cumulative reward
        running_reward = 0.05 * ep_reward + (1 - 0.05) * running_reward

        # perform backprop
        finish_episode()

        # log results
        if i_episode % args.log_interval == 0:
            print(
                "Episode {}\tLast reward: {:.2f}\tAverage reward: {:.2f}".format(
                    i_episode, ep_reward, running_reward
                )
            )

        # check if we have "solved" the cart pole problem
        if running_reward &gt; env.spec.reward_threshold:
            print(
                "Solved! Running reward is now {} and "
                "the last episode runs to {} time steps!".format(running_reward, t)
            )
            break


</pre></div>
</td>
</tr><tr>
</tr>
</table>
</td></tr>
</table>
<script language="JavaScript">
function ShowHide(divId) { 
    if(document.getElementById(divId).style.display == 'none') {
        document.getElementById(divId).style.display='block';
    } else { 
        document.getElementById(divId).style.display = 'none';
    } 
}
</script>
</body>
</html>
